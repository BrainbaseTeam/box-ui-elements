/*! For license information please see skills-sidebar.cb61ce43265a323e53bd.bundle.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{4271:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_accessible_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),IconEdit=function IconEdit(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?"#999":_ref$color,_ref$height=_ref.height,height=void 0===_ref$height?14:_ref$height,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?14:_ref$width;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_accessible_svg__WEBPACK_IMPORTED_MODULE_1__.a,{className:"icon-edit ".concat(className),height:height,title:title,viewBox:"0 0 14 14",width:width},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:"fill-color",d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z",fill:color}))};__webpack_exports__.a=IconEdit;try{IconEdit.displayName="IconEdit",IconEdit.__docgenInfo={description:"",displayName:"IconEdit",props:{color:{defaultValue:{value:"#999"},description:"A string describing the color for the icon",name:"color",required:!1,type:{name:"string"}},fillColor:{defaultValue:null,description:"A string describing the fill color for the icon",name:"fillColor",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"A number specifying the opacity of the icon",name:"opacity",required:!1,type:{name:"number"}},strokeColor:{defaultValue:null,description:"A string describing the color of the icon's stroke",name:"strokeColor",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"A number specifying the width of the icon's stroke",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"Class name for the icon",name:"className",required:!1,type:{name:"string"}},height:{defaultValue:{value:14},description:"A number specifying the height of the icon",name:"height",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"A string describing the icon if it's not purely decorative for accessibility",name:"title",required:!1,type:{name:"string | ReactElement<string, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)>) | (new (props: any) => Component<any, any, any>)>"}},width:{defaultValue:{value:14},description:"A number specifying the width of the icon",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/general/IconEdit.tsx#IconEdit"]={docgenInfo:IconEdit.__docgenInfo,name:"IconEdit",path:"src/icons/general/IconEdit.tsx#IconEdit"})}catch(__react_docgen_typescript_loader_error){}},4282:function(module,exports,__webpack_require__){},4283:function(module,exports,__webpack_require__){},4284:function(module,exports,__webpack_require__){},4285:function(module,exports,__webpack_require__){},4286:function(module,exports,__webpack_require__){},4287:function(module,exports,__webpack_require__){},4288:function(module,exports,__webpack_require__){},4289:function(module,exports,__webpack_require__){},4290:function(module,exports,__webpack_require__){},4291:function(module,exports,__webpack_require__){},4292:function(module,exports,__webpack_require__){},4344:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(7),__webpack_require__(13),__webpack_require__(17),__webpack_require__(23),__webpack_require__(28),__webpack_require__(281),__webpack_require__(420),__webpack_require__(14),__webpack_require__(372),__webpack_require__(40),__webpack_require__(41),__webpack_require__(22),__webpack_require__(21),__webpack_require__(10),__webpack_require__(16),__webpack_require__(33),__webpack_require__(15);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),flow=__webpack_require__(283),flow_default=__webpack_require__.n(flow),get=__webpack_require__(20),get_default=__webpack_require__.n(get),noop=__webpack_require__(9),noop_default=__webpack_require__.n(noop),components_message=__webpack_require__(115),LoadingIndicator=(__webpack_require__(136),__webpack_require__(85)),messages=__webpack_require__(8),SidebarContent=__webpack_require__(1426),uniqueId=(__webpack_require__(29),__webpack_require__(37)),uniqueId_default=__webpack_require__.n(uniqueId),interactionTargets=__webpack_require__(419),SidebarSection=__webpack_require__(1427),skillUtils=__webpack_require__(2153),constants=__webpack_require__(2),Status=function(_ref){var _card$status=_ref.card.status,status=void 0===_card$status?{}:_card$status,code=status.code,message=status.message,localizedMessage=messages.a.skillUnknownError;switch(code){case constants.Ke:localizedMessage=messages.a.skillInvalidFileSizeError;break;case constants.Je:localizedMessage=messages.a.skillInvalidFileExtensionError;break;case constants.He:case constants.Ge:case constants.Le:case constants.Me:localizedMessage=messages.a.skillUnknownError;break;case constants.Ie:localizedMessage=messages.a.skillFileProcessingError;break;case constants.Re:localizedMessage=messages.a.skillPendingStatus;break;case constants.Qe:localizedMessage=messages.a.skillInvokedStatus;break;default:if(message)return message}return react.createElement(components_message.a,localizedMessage)};Status.displayName="Status";var status_Status=Status,classnames=__webpack_require__(6),classnames_default=__webpack_require__.n(classnames),variables=__webpack_require__(1),PlainButton=__webpack_require__(51),IconEdit=__webpack_require__(4271),accessible_svg=__webpack_require__(12),IconCopy_IconCopy=function IconCopy(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?"#999":_ref$color,_ref$height=_ref.height,height=void 0===_ref$height?14:_ref$height,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?14:_ref$width;return react.createElement(accessible_svg.a,{className:"icon-copy ".concat(className),height:height,title:title,viewBox:"0 0 14 14",width:width},react.createElement("path",{className:"fill-color",d:"M1 11a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h9a1 1 0 0 1 0 2H2v8a1 1 0 0 1-1 1z",fill:color}),react.createElement("path",{className:"fill-color",d:"M13 3H3v10a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-3 8H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2zm0-3H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2z",fill:color}))},general_IconCopy=IconCopy_IconCopy;try{IconCopy_IconCopy.displayName="IconCopy",IconCopy_IconCopy.__docgenInfo={description:"",displayName:"IconCopy",props:{color:{defaultValue:{value:"#999"},description:"A string describing the color for the icon",name:"color",required:!1,type:{name:"string"}},fillColor:{defaultValue:null,description:"A string describing the fill color for the icon",name:"fillColor",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"A number specifying the opacity of the icon",name:"opacity",required:!1,type:{name:"number"}},strokeColor:{defaultValue:null,description:"A string describing the color of the icon's stroke",name:"strokeColor",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"A number specifying the width of the icon's stroke",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"Class name for the icon",name:"className",required:!1,type:{name:"string"}},height:{defaultValue:{value:14},description:"A number specifying the height of the icon",name:"height",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"A string describing the icon if it's not purely decorative for accessibility",name:"title",required:!1,type:{name:"string | ReactElement<string, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)>) | (new (props: any) => Component<any, any, any>)>"}},width:{defaultValue:{value:14},description:"A number specifying the width of the icon",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/general/IconCopy.tsx#IconCopy"]={docgenInfo:IconCopy_IconCopy.__docgenInfo,name:"IconCopy",path:"src/icons/general/IconCopy.tsx#IconCopy"})}catch(__react_docgen_typescript_loader_error){}var IconExpand_IconExpand=function IconExpand(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?"#979797":_ref$color,_ref$height=_ref.height,height=void 0===_ref$height?13:_ref$height,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?13:_ref$width;return react.createElement(accessible_svg.a,{className:"icon-expand ".concat(className),height:height,title:title,viewBox:"0 0 13 13",width:width},react.createElement("path",{className:"fill-color",d:"M12 0H6a1 1 0 0 0 0 2h5v5a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1zM7 11H2V6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2z",fill:color}))},general_IconExpand=IconExpand_IconExpand;try{IconExpand_IconExpand.displayName="IconExpand",IconExpand_IconExpand.__docgenInfo={description:"",displayName:"IconExpand",props:{color:{defaultValue:{value:"#979797"},description:"A string describing the color for the icon",name:"color",required:!1,type:{name:"string"}},fillColor:{defaultValue:null,description:"A string describing the fill color for the icon",name:"fillColor",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"A number specifying the opacity of the icon",name:"opacity",required:!1,type:{name:"number"}},strokeColor:{defaultValue:null,description:"A string describing the color of the icon's stroke",name:"strokeColor",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"A number specifying the width of the icon's stroke",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"Class name for the icon",name:"className",required:!1,type:{name:"string"}},height:{defaultValue:{value:13},description:"A number specifying the height of the icon",name:"height",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"A string describing the icon if it's not purely decorative for accessibility",name:"title",required:!1,type:{name:"string | ReactElement<string, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)>) | (new (props: any) => Component<any, any, any>)>"}},width:{defaultValue:{value:13},description:"A number specifying the width of the icon",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/general/IconExpand.tsx#IconExpand"]={docgenInfo:IconExpand_IconExpand.__docgenInfo,name:"IconExpand",path:"src/icons/general/IconExpand.tsx#IconExpand"})}catch(__react_docgen_typescript_loader_error){}var IconCollapse_IconCollapse=function IconCollapse(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?"#979797":_ref$color,_ref$height=_ref.height,height=void 0===_ref$height?13:_ref$height,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?13:_ref$width;return react.createElement(accessible_svg.a,{className:"icon-collapse ".concat(className),height:height,title:title,viewBox:"0 0 13 13",width:width},react.createElement("path",{className:"fill-color",d:"M8 6h4a1 1 0 0 0 0-2H9V1a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1zM1 9h3v3a1 1 0 0 0 2 0V8a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2z",fill:color}))},general_IconCollapse=IconCollapse_IconCollapse;try{IconCollapse_IconCollapse.displayName="IconCollapse",IconCollapse_IconCollapse.__docgenInfo={description:"",displayName:"IconCollapse",props:{color:{defaultValue:{value:"#979797"},description:"A string describing the color for the icon",name:"color",required:!1,type:{name:"string"}},fillColor:{defaultValue:null,description:"A string describing the fill color for the icon",name:"fillColor",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"A number specifying the opacity of the icon",name:"opacity",required:!1,type:{name:"number"}},strokeColor:{defaultValue:null,description:"A string describing the color of the icon's stroke",name:"strokeColor",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"A number specifying the width of the icon's stroke",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"Class name for the icon",name:"className",required:!1,type:{name:"string"}},height:{defaultValue:{value:13},description:"A number specifying the height of the icon",name:"height",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"A string describing the icon if it's not purely decorative for accessibility",name:"title",required:!1,type:{name:"string | ReactElement<string, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)>) | (new (props: any) => Component<any, any, any>)>"}},width:{defaultValue:{value:13},description:"A number specifying the width of the icon",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/general/IconCollapse.tsx#IconCollapse"]={docgenInfo:IconCollapse_IconCollapse.__docgenInfo,name:"IconCollapse",path:"src/icons/general/IconCollapse.tsx#IconCollapse"})}catch(__react_docgen_typescript_loader_error){}var datetime=__webpack_require__(123),LoadingIndicatorWrapper=__webpack_require__(373),Tooltip=__webpack_require__(61);__webpack_require__(2223);function copy(string){var textarea=document.createElement("textarea"),body=document.body;textarea.value=string,textarea.style.display="hidden",body&&(body.appendChild(textarea),textarea.select(),document.execCommand("copy"),body.removeChild(textarea))}var isValidStartTime=function(timeslice){return!!timeslice&&"number"==typeof timeslice.start},isValidTimeSlice=function(timeslices){return Array.isArray(timeslices)&&isValidStartTime(timeslices[0])},ReadOnlyTranscriptRow=function(_ref){var time=_ref.time,_ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,onClick=_ref.onClick,interactionTarget=_ref.interactionTarget;return react.createElement(PlainButton.a,{className:"be-transcript-row","data-resin-target":interactionTarget,onClick:onClick,type:"button"},time&&react.createElement("div",{className:"be-transcript-time"},time),react.createElement("div",{className:"be-transcript-text"},text))};ReadOnlyTranscriptRow.displayName="ReadOnlyTranscriptRow";var transcript_ReadOnlyTranscriptRow=ReadOnlyTranscriptRow,react_textarea_autosize_esm_browser=__webpack_require__(2221),PrimaryButton=__webpack_require__(73),Button=__webpack_require__(25),EditingTranscriptRow_EditingTranscriptRow=(__webpack_require__(4282),function(_ref){var time=_ref.time,_ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,onSave=_ref.onSave,onCancel=_ref.onCancel,onChange=_ref.onChange;return react.createElement("div",{className:"be-transcript-row be-transcript-editing-row"},time&&react.createElement("div",{className:"be-transcript-time"},time),react.createElement("div",{className:"be-transcript-text"},react.createElement(react_textarea_autosize_esm_browser.default,{maxRows:10,onChange:onChange,value:text}),react.createElement("div",{className:"be-transcript-buttons"},react.createElement(Button.b,{"data-resin-target":interactionTargets.f.TRANSCRIPTS.EDIT_CANCEL,onClick:onCancel,type:"button"},react.createElement(components_message.a,messages.a.cancel)),react.createElement(PrimaryButton.a,{"data-resin-target":interactionTargets.f.TRANSCRIPTS.EDIT_SAVE,onClick:onSave,type:"button"},react.createElement(components_message.a,messages.a.save)))))});EditingTranscriptRow_EditingTranscriptRow.displayName="EditingTranscriptRow";var transcript_EditingTranscriptRow=EditingTranscriptRow_EditingTranscriptRow,transcript_TranscriptRow=(__webpack_require__(4283),function(_ref){var appears=_ref.appears,text=_ref.text,isEditing=_ref.isEditing,onClick=_ref.onClick,onSave=_ref.onSave,onCancel=_ref.onCancel,onChange=_ref.onChange,interactionTarget=_ref.interactionTarget,start=isValidTimeSlice(appears)&&Array.isArray(appears)&&1===appears.length?Object(datetime.f)(appears[0].start):void 0;return isEditing?react_default.a.createElement(transcript_EditingTranscriptRow,{onCancel:onCancel,onChange:onChange,onSave:onSave,text:text,time:start}):react_default.a.createElement(transcript_ReadOnlyTranscriptRow,{interactionTarget:interactionTarget,onClick:onClick,text:text,time:start})});__webpack_require__(4284);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Transcript_ref3=react.createElement(general_IconCopy,{color:variables.bdlGray50}),_ref4=react.createElement(general_IconExpand,{color:variables.bdlGray50}),_ref5=react.createElement(general_IconCollapse,{color:variables.bdlGray50}),_ref6=react.createElement(IconEdit.a,null),Transcript_Transcript=function(_React$PureComponent){function Transcript(){var _getPrototypeOf2,_this;_classCallCheck(this,Transcript);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Transcript)).call.apply(_getPrototypeOf2,[this].concat(args)))),"state",{isEditingIndex:void 0,newTranscriptText:"",isCollapsed:!0,isLoading:!1}),_defineProperty(_assertThisInitialized(_this),"transcriptReducer",(function(accumulator,_ref){var appears=_ref.appears,text=_ref.text,start=isValidTimeSlice(appears)&&Array.isArray(appears)?"".concat(Object(datetime.f)(appears[0].start),":"):"";return"".concat(accumulator).concat(start," ").concat(text||"","\r\n")})),_defineProperty(_assertThisInitialized(_this),"transcriptMapper",(function(_ref2,index){var appears=_ref2.appears,text=_ref2.text,_this$state=_this.state,isEditingIndex=_this$state.isEditingIndex,newTranscriptText=_this$state.newTranscriptText,isEditingRow=isEditingIndex===index,transcriptText=isEditingRow?newTranscriptText:text,interactionTarget=isEditingRow?interactionTargets.f.TRANSCRIPTS.EDIT_TEXT:interactionTargets.f.TRANSCRIPTS.TRANSCRIPT;return react.createElement(transcript_TranscriptRow,{key:index,appears:appears,interactionTarget:interactionTarget,isEditing:isEditingRow,onCancel:_this.onCancel,onChange:_this.onChange,onClick:function onClick(){return _this.onClick(index)},onSave:_this.onSave,text:transcriptText})})),_defineProperty(_assertThisInitialized(_this),"toggleIsEditing",(function(){_this.setState((function(prevState){return{isEditingIndex:"number"==typeof prevState.isEditingIndex?void 0:-1}}))})),_defineProperty(_assertThisInitialized(_this),"onSave",(function(){var _this$props=_this.props,entries=_this$props.card.entries,onSkillChange=_this$props.onSkillChange,_this$state2=_this.state,isEditingIndex=_this$state2.isEditingIndex,newTranscriptText=_this$state2.newTranscriptText;if("number"==typeof isEditingIndex){var entry=entries[isEditingIndex];entry.text===newTranscriptText?_this.onCancel():(_this.setState({isLoading:!0,isEditingIndex:-1}),onSkillChange(null,null,[{replacement:_objectSpread({},entry,{text:newTranscriptText}),replaced:entry}]))}})),_defineProperty(_assertThisInitialized(_this),"onCancel",(function(){_this.setState({isEditingIndex:-1,newTranscriptText:""})})),_defineProperty(_assertThisInitialized(_this),"onChange",(function(event){var currentTarget=event.currentTarget;_this.setState({newTranscriptText:currentTarget.value})})),_defineProperty(_assertThisInitialized(_this),"onClick",(function(index){var entries=_this.props.card.entries;"number"==typeof _this.state.isEditingIndex?_this.setState({isEditingIndex:index,newTranscriptText:entries[index].text}):_this.previewSegment(index)})),_defineProperty(_assertThisInitialized(_this),"copyTranscript",(function(){var entries=_this.props.card.entries;copy(entries.reduce(_this.transcriptReducer,"")),_this.copyBtn&&_this.copyBtn.classList.add("be-transcript-copied"),setTimeout((function(){_this.copyBtn&&_this.copyBtn.classList.remove("be-transcript-copied")}),1e3)})),_defineProperty(_assertThisInitialized(_this),"copyBtnRef",(function(btn){_this.copyBtn=btn})),_defineProperty(_assertThisInitialized(_this),"toggleExpandCollapse",(function(){_this.setState((function(prevState){return{isCollapsed:!prevState.isCollapsed}}))})),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Transcript,_React$PureComponent),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Transcript,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps!==this.props){var wasEditing="number"==typeof this.state.isEditingIndex;this.setState({isEditingIndex:wasEditing?-1:void 0,newTranscriptText:"",isLoading:!1})}}},{key:"previewSegment",value:function previewSegment(index){var _this$props2=this.props,entries=_this$props2.card.entries,getViewer=_this$props2.getViewer,appears=entries[index].appears,viewer=getViewer?getViewer():null,isValid=isValidTimeSlice(appears)&&Array.isArray(appears)&&1===appears.length,start=isValid?appears[0].start:0;isValid&&viewer&&"function"==typeof viewer.play&&viewer.play(start)}},{key:"render",value:function render(){var _this$props3=this.props,entries=_this$props3.card.entries,isEditable=_this$props3.isEditable,_this$state3=this.state,isEditingIndex=_this$state3.isEditingIndex,isCollapsed=_this$state3.isCollapsed,isLoading=_this$state3.isLoading,hasEntries=0<entries.length,hasManyEntries=5<entries.length,isEditing="number"==typeof isEditingIndex,editBtnClassName=classnames_default()("be-transcript-edit",{"be-transcript-is-editing":isEditing}),contentClassName=classnames_default()({"be-transcript-content-collapsed":isCollapsed}),expandCollapseMessage=isCollapsed?messages.a.expand:messages.a.collapse;return react.createElement(LoadingIndicatorWrapper.a,{className:"be-transcript",isLoading:isLoading},hasEntries&&!isLoading&&react.createElement("div",{className:"be-transcript-actions"},react.createElement(Tooltip.c,{text:react.createElement(components_message.a,messages.a.copy)},react.createElement(PlainButton.a,{className:"be-transcript-copy","data-resin-target":interactionTargets.f.TRANSCRIPTS.COPY,getDOMRef:this.copyBtnRef,onClick:this.copyTranscript,type:"button"},Transcript_ref3)),hasManyEntries&&react.createElement(Tooltip.c,{text:react.createElement(components_message.a,expandCollapseMessage)},react.createElement(PlainButton.a,{className:"be-transcript-expand","data-resin-target":interactionTargets.f.TRANSCRIPTS.EXPAND,onClick:this.toggleExpandCollapse,type:"button"},isCollapsed?_ref4:_ref5)),isEditable&&react.createElement(Tooltip.c,{text:react.createElement(components_message.a,messages.a.editLabel)},react.createElement(PlainButton.a,{className:editBtnClassName,"data-resin-target":interactionTargets.f.TRANSCRIPTS.EDIT,onClick:this.toggleIsEditing,type:"button"},_ref6))),isEditing?react.createElement("div",{className:"be-transcript-edit-message"},react.createElement(components_message.a,messages.a.transcriptEdit)):null,hasEntries?react.createElement("div",{className:contentClassName},entries.map(this.transcriptMapper)):react.createElement(components_message.a,messages.a.skillNoInfoFoundError))}}]),Transcript}(react.PureComponent);Transcript_Transcript.displayName="Transcript";var skills_transcript_Transcript=Transcript_Transcript,InlineError=(__webpack_require__(199),__webpack_require__(104),__webpack_require__(1063),__webpack_require__(39),__webpack_require__(282),__webpack_require__(1424)),PillSelector=__webpack_require__(2160),keywordUtils=function(){var keywords=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return keywords.map((function(keyword,index){return{displayText:keyword.text,value:index}}))};__webpack_require__(4285);function EditableKeywords_typeof(obj){return(EditableKeywords_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function EditableKeywords_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function EditableKeywords_getPrototypeOf(o){return(EditableKeywords_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function EditableKeywords_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function EditableKeywords_setPrototypeOf(o,p){return(EditableKeywords_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function EditableKeywords_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var EditableKeywords_EditableKeywords=function(_React$PureComponent){function EditableKeywords(props){var _this;return function EditableKeywords_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditableKeywords),_this=function EditableKeywords_possibleConstructorReturn(self,call){return!call||"object"!==EditableKeywords_typeof(call)&&"function"!=typeof call?EditableKeywords_assertThisInitialized(self):call}(this,EditableKeywords_getPrototypeOf(EditableKeywords).call(this,props)),EditableKeywords_defineProperty(EditableKeywords_assertThisInitialized(_this),"onRemove",(function(option,index){var _this$props=_this.props;(0,_this$props.onDelete)(_this$props.keywords[index])})),EditableKeywords_defineProperty(EditableKeywords_assertThisInitialized(_this),"onKeyDown",(function(_ref){"Enter"!==_ref.key||_this.state.isInCompositionMode||_this.onBlur()})),EditableKeywords_defineProperty(EditableKeywords_assertThisInitialized(_this),"onBlur",(function(){var onAdd=_this.props.onAdd,keyword=_this.state.keyword;keyword&&onAdd({type:"text",text:keyword})})),EditableKeywords_defineProperty(EditableKeywords_assertThisInitialized(_this),"onCompositionStart",(function(){_this.setState({isInCompositionMode:!0})})),EditableKeywords_defineProperty(EditableKeywords_assertThisInitialized(_this),"onCompositionEnd",(function(){_this.setState({isInCompositionMode:!1})})),EditableKeywords_defineProperty(EditableKeywords_assertThisInitialized(_this),"onInput",(function(event){var currentTarget=event.currentTarget;_this.setState({keyword:currentTarget.value})})),_this.state={pills:keywordUtils(props.keywords),keyword:"",isInCompositionMode:!1},_this}return function EditableKeywords_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&EditableKeywords_setPrototypeOf(subClass,superClass)}(EditableKeywords,_React$PureComponent),function EditableKeywords_createClass(Constructor,protoProps,staticProps){return protoProps&&EditableKeywords_defineProperties(Constructor.prototype,protoProps),staticProps&&EditableKeywords_defineProperties(Constructor,staticProps),Constructor}(EditableKeywords,[{key:"componentDidUpdate",value:function componentDidUpdate(_ref2){var prevKeywords=_ref2.keywords,keywords=this.props.keywords;prevKeywords!==keywords&&this.setState({pills:keywordUtils(keywords),keyword:""})}},{key:"render",value:function render(){var _this$props2=this.props,onSave=_this$props2.onSave,onCancel=_this$props2.onCancel,_this$state=this.state,pills=_this$state.pills,keyword=_this$state.keyword;return react.createElement("span",{className:"bdl-EditableKeywords"},react.createElement(PillSelector.a,{onBlur:this.onBlur,onCompositionEnd:this.onCompositionEnd,onCompositionStart:this.onCompositionStart,onInput:this.onInput,onKeyDown:this.onKeyDown,onPaste:this.onInput,onRemove:this.onRemove,selectedOptions:pills,value:keyword}),react.createElement("div",{className:"be-keywords-buttons"},react.createElement(Button.b,{"data-resin-target":interactionTargets.f.KEYWORDS.EDIT_CANCEL,onClick:onCancel,type:"button"},react.createElement(components_message.a,messages.a.cancel)),react.createElement(PrimaryButton.a,{"data-resin-target":interactionTargets.f.KEYWORDS.EDIT_SAVE,onClick:onSave,type:"button"},react.createElement(components_message.a,messages.a.save))))}}]),EditableKeywords}(react.PureComponent);EditableKeywords_EditableKeywords.displayName="EditableKeywords";var skills_keywords_EditableKeywords=EditableKeywords_EditableKeywords,isEqual=(__webpack_require__(19),__webpack_require__(603)),isEqual_default=__webpack_require__.n(isEqual),components_button=__webpack_require__(36);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var PillCloud=function(_ref){var options=_ref.options,onSelect=_ref.onSelect,_ref$selectedOptions=_ref.selectedOptions,selectedOptions=void 0===_ref$selectedOptions?[]:_ref$selectedOptions,_ref$buttonProps=_ref.buttonProps,buttonProps=void 0===_ref$buttonProps?{}:_ref$buttonProps;return react_default.a.createElement("div",{className:"bdl-PillCloud pill-cloud-container"},options&&options.map((function(option){return react_default.a.createElement(components_button.b,_extends({key:option.value,className:classnames_default()("bdl-Pill","bdl-PillCloud-button","pill","pill-cloud-button",{"is-selected":selectedOptions.find((function(op){return isEqual_default()(op,option)}))}),onClick:onSelect?function(){return onSelect(option)}:void 0},buttonProps),option.displayText)})))};PillCloud.displayName="PillCloud";var pill_cloud_PillCloud=PillCloud,IconTrackNext_IconTrackNext=function IconTrackNext(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?"#999":_ref$color,_ref$height=_ref.height,height=void 0===_ref$height?14:_ref$height,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?14:_ref$width;return react.createElement(accessible_svg.a,{className:"icon-track-next ".concat(className),height:height,title:title,viewBox:"0 0 14 14",width:width},react.createElement("path",{className:"fill-color",d:"M7.72 7.85a1 1 0 0 0 0-1.41l-5-4.81A1 1 0 0 0 2 1.35a1 1 0 0 0-1 1V12a1 1 0 0 0 .28.69 1 1 0 0 0 1.41 0l5-4.81zM13 2v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1z",fill:color}))},general_IconTrackNext=IconTrackNext_IconTrackNext;try{IconTrackNext_IconTrackNext.displayName="IconTrackNext",IconTrackNext_IconTrackNext.__docgenInfo={description:"",displayName:"IconTrackNext",props:{color:{defaultValue:{value:"#999"},description:"A string describing the color for the icon",name:"color",required:!1,type:{name:"string"}},fillColor:{defaultValue:null,description:"A string describing the fill color for the icon",name:"fillColor",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"A number specifying the opacity of the icon",name:"opacity",required:!1,type:{name:"number"}},strokeColor:{defaultValue:null,description:"A string describing the color of the icon's stroke",name:"strokeColor",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"A number specifying the width of the icon's stroke",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"Class name for the icon",name:"className",required:!1,type:{name:"string"}},height:{defaultValue:{value:14},description:"A number specifying the height of the icon",name:"height",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"A string describing the icon if it's not purely decorative for accessibility",name:"title",required:!1,type:{name:"string | ReactElement<string, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)>) | (new (props: any) => Component<any, any, any>)>"}},width:{defaultValue:{value:14},description:"A number specifying the width of the icon",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/general/IconTrackNext.tsx#IconTrackNext"]={docgenInfo:IconTrackNext_IconTrackNext.__docgenInfo,name:"IconTrackNext",path:"src/icons/general/IconTrackNext.tsx#IconTrackNext"})}catch(__react_docgen_typescript_loader_error){}var IconTrackPrevious_IconTrackPrevious=function IconTrackPrevious(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?"#999":_ref$color,_ref$height=_ref.height,height=void 0===_ref$height?14:_ref$height,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?14:_ref$width;return react.createElement(accessible_svg.a,{className:"icon-track-previous ".concat(className),height:height,title:title,viewBox:"0 0 14 14",width:width},react.createElement("path",{className:"fill-color",d:"M6.31 7.88l5 4.81a1 1 0 0 0 1.41 0A1 1 0 0 0 13 12V2.35a1 1 0 0 0-1-1 1 1 0 0 0-.69.28l-5 4.81a1 1 0 0 0 0 1.41zM2 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z",fill:color}))},general_IconTrackPrevious=IconTrackPrevious_IconTrackPrevious;try{IconTrackPrevious_IconTrackPrevious.displayName="IconTrackPrevious",IconTrackPrevious_IconTrackPrevious.__docgenInfo={description:"",displayName:"IconTrackPrevious",props:{color:{defaultValue:{value:"#999"},description:"A string describing the color for the icon",name:"color",required:!1,type:{name:"string"}},fillColor:{defaultValue:null,description:"A string describing the fill color for the icon",name:"fillColor",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"A number specifying the opacity of the icon",name:"opacity",required:!1,type:{name:"number"}},strokeColor:{defaultValue:null,description:"A string describing the color of the icon's stroke",name:"strokeColor",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"A number specifying the width of the icon's stroke",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"Class name for the icon",name:"className",required:!1,type:{name:"string"}},height:{defaultValue:{value:14},description:"A number specifying the height of the icon",name:"height",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"A string describing the icon if it's not purely decorative for accessibility",name:"title",required:!1,type:{name:"string | ReactElement<string, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)>) | (new (props: any) => Component<any, any, any>)>"}},width:{defaultValue:{value:14},description:"A number specifying the width of the icon",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/general/IconTrackPrevious.tsx#IconTrackPrevious"]={docgenInfo:IconTrackPrevious_IconTrackPrevious.__docgenInfo,name:"IconTrackPrevious",path:"src/icons/general/IconTrackPrevious.tsx#IconTrackPrevious"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(4286);var Timeslice_Timeslice=function(_ref){var start=_ref.start,end=_ref.end,duration=_ref.duration,_onClick=_ref.onClick,index=_ref.index,interactionTarget=_ref.interactionTarget;if("number"!=typeof start||!duration||start>=duration)return null;var startLeft=Math.round(290*start/duration),minEnding=startLeft+6,ending="number"==typeof end?Math.max(minEnding,290*end/duration):minEnding,width=Math.round(Math.min(290,ending))-startLeft;return width<6&&(startLeft-=6-width,width=6),react_default.a.createElement(PlainButton.a,{className:"be-timeline-time","data-resin-target":interactionTarget,onClick:function onClick(){return _onClick(index)},style:{left:"".concat(startLeft,"px"),width:"".concat(width,"px")},type:"button"})};Timeslice_Timeslice.displayName="Timeslice";var timeline_Timeslice=Timeslice_Timeslice,Timeline_ref2=(__webpack_require__(4287),react_default.a.createElement("div",{className:"be-timeline-line"})),Timeline_Timeline=function(_ref){var _ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,_ref$duration=_ref.duration,duration=void 0===_ref$duration?0:_ref$duration,_ref$timeslices=_ref.timeslices,timeslices=void 0===_ref$timeslices?[]:_ref$timeslices,getViewer=_ref.getViewer,interactionTarget=_ref.interactionTarget,timeSliceIndex=-1,playSegment=function(index){var incr=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,newIndex=0<incr?Math.min(timeslices.length-1,index+incr):Math.max(0,index+incr),viewer=getViewer?getViewer():null,timeslice=timeslices[newIndex],validTime=isValidStartTime(timeslice);validTime&&viewer&&"function"==typeof viewer.play&&(viewer.play(timeslice.start),timeSliceIndex=newIndex)};return react_default.a.createElement("div",{className:"be-timeline"},text&&react_default.a.createElement("div",{className:"be-timeline-label"},text),react_default.a.createElement("div",{className:"be-timeline-line-wrapper"},Timeline_ref2,timeslices.map((function(_ref3,index){var start=_ref3.start,end=_ref3.end;return(react_default.a.createElement(timeline_Timeslice,{key:index,duration:duration,end:end,index:index,interactionTarget:interactionTarget,onClick:playSegment,start:start}))}))),react_default.a.createElement("div",{className:"be-timeline-btns"},react_default.a.createElement(PlainButton.a,{"data-resin-target":interactionTargets.f.TIMELINE.PREVIOUS,onClick:function onClick(){return playSegment(timeSliceIndex,-1)},type:"button"},react_default.a.createElement(general_IconTrackPrevious,{title:react_default.a.createElement(components_message.a,messages.a.previousSegment)})),react_default.a.createElement(PlainButton.a,{"data-resin-target":interactionTargets.f.TIMELINE.NEXT,onClick:function onClick(){return playSegment(timeSliceIndex,1)},type:"button"},react_default.a.createElement(general_IconTrackNext,{title:react_default.a.createElement(components_message.a,messages.a.nextSegment)}))))};Timeline_Timeline.displayName="Timeline";var timeline_Timeline=Timeline_Timeline;__webpack_require__(4288);function ReadOnlyKeywords_typeof(obj){return(ReadOnlyKeywords_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ReadOnlyKeywords_extends(){return(ReadOnlyKeywords_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ReadOnlyKeywords_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ReadOnlyKeywords_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ReadOnlyKeywords_possibleConstructorReturn(self,call){return!call||"object"!==ReadOnlyKeywords_typeof(call)&&"function"!=typeof call?ReadOnlyKeywords_assertThisInitialized(self):call}function ReadOnlyKeywords_getPrototypeOf(o){return(ReadOnlyKeywords_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ReadOnlyKeywords_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ReadOnlyKeywords_setPrototypeOf(o,p){return(ReadOnlyKeywords_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function ReadOnlyKeywords_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ReadOnlyKeywords_ReadOnlyselecteds=function(_React$PureComponent){function ReadOnlyselecteds(){var _getPrototypeOf2,_this;ReadOnlyKeywords_classCallCheck(this,ReadOnlyselecteds);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return ReadOnlyKeywords_defineProperty(ReadOnlyKeywords_assertThisInitialized(_this=ReadOnlyKeywords_possibleConstructorReturn(this,(_getPrototypeOf2=ReadOnlyKeywords_getPrototypeOf(ReadOnlyselecteds)).call.apply(_getPrototypeOf2,[this].concat(args)))),"state",{selectedIndex:-1}),ReadOnlyKeywords_defineProperty(ReadOnlyKeywords_assertThisInitialized(_this),"onSelect",(function(pill){var selectedIndex=_this.state.selectedIndex,newIndex=pill.value;_this.setState({selectedIndex:selectedIndex===newIndex?-1:newIndex})})),_this}return function ReadOnlyKeywords_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ReadOnlyKeywords_setPrototypeOf(subClass,superClass)}(ReadOnlyselecteds,_React$PureComponent),function ReadOnlyKeywords_createClass(Constructor,protoProps,staticProps){return protoProps&&ReadOnlyKeywords_defineProperties(Constructor.prototype,protoProps),staticProps&&ReadOnlyKeywords_defineProperties(Constructor,staticProps),Constructor}(ReadOnlyselecteds,[{key:"render",value:function render(){var _this$props=this.props,keywords=_this$props.keywords,getViewer=_this$props.getViewer,duration=_this$props.duration,selectedIndex=this.state.selectedIndex,options=keywordUtils(keywords),selected=keywords[selectedIndex],pillCloudProps=selected?{selectedOptions:[options[selectedIndex]]}:{};return react.createElement(react.Fragment,null,react.createElement(pill_cloud_PillCloud,ReadOnlyKeywords_extends({onSelect:this.onSelect,options:options},pillCloudProps,{buttonProps:ReadOnlyKeywords_defineProperty({},interactionTargets.c,interactionTargets.f.KEYWORDS.SELECT)})),!!selected&&Array.isArray(selected.appears)&&0<selected.appears.length&&react.createElement(timeline_Timeline,{duration:duration,getViewer:getViewer,interactionTarget:interactionTargets.f.KEYWORDS.TIMELINE,text:selected.text,timeslices:selected.appears}))}}]),ReadOnlyselecteds}(react.PureComponent);ReadOnlyKeywords_ReadOnlyselecteds.displayName="ReadOnlyselecteds";var keywords_ReadOnlyKeywords=ReadOnlyKeywords_ReadOnlyselecteds;__webpack_require__(4289);function Keywords_typeof(obj){return(Keywords_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Keywords_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Keywords_getPrototypeOf(o){return(Keywords_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Keywords_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Keywords_setPrototypeOf(o,p){return(Keywords_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Keywords_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Keywords_ref2=react_default.a.createElement(IconEdit.a,null),Keywords_Keywords=function(_PureComponent){function Keywords(props){var _this;return function Keywords_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Keywords),_this=function Keywords_possibleConstructorReturn(self,call){return!call||"object"!==Keywords_typeof(call)&&"function"!=typeof call?Keywords_assertThisInitialized(self):call}(this,Keywords_getPrototypeOf(Keywords).call(this,props)),Keywords_defineProperty(Keywords_assertThisInitialized(_this),"toggleIsEditing",(function(){_this.setState((function(prevState){return{isEditing:!prevState.isEditing}}))})),Keywords_defineProperty(Keywords_assertThisInitialized(_this),"onAdd",(function(keyword){var transcript=_this.props.transcript,adds=_this.state.adds,locations=[],regex=new RegExp("\\b".concat(keyword.text,"\\b"),"i");transcript&&Array.isArray(transcript.entries)&&transcript.entries.forEach((function(_ref){var text=_ref.text,appears=_ref.appears;text&&regex.test(text)&&Array.isArray(appears)&&0<appears.length&&locations.push(appears[0])})),keyword.appears=locations,adds.push(keyword),_this.setState({adds:adds.slice(0)})})),Keywords_defineProperty(Keywords_assertThisInitialized(_this),"onDelete",(function(keyword){var _this$state=_this.state,adds=_this$state.adds,removes=_this$state.removes,addedIndex=adds.findIndex((function(added){return added===keyword}));-1<addedIndex?(adds.splice(addedIndex,1),_this.setState({adds:adds.slice(0)})):(removes.push(keyword),_this.setState({removes:removes.slice(0)}))})),Keywords_defineProperty(Keywords_assertThisInitialized(_this),"onSave",(function(){var onSkillChange=_this.props.onSkillChange,_this$state2=_this.state,removes=_this$state2.removes,adds=_this$state2.adds;_this.toggleIsEditing(),(0<removes.length||0<adds.length)&&(_this.setState({isLoading:!0}),onSkillChange(removes,adds))})),Keywords_defineProperty(Keywords_assertThisInitialized(_this),"onCancel",(function(){_this.resetState(_this.props)})),_this.state={keywords:props.card.entries,adds:[],removes:[],isEditing:props.hasError,hasError:props.hasError,isLoading:!1},_this}return function Keywords_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Keywords_setPrototypeOf(subClass,superClass)}(Keywords,_PureComponent),function Keywords_createClass(Constructor,protoProps,staticProps){return protoProps&&Keywords_defineProperties(Constructor.prototype,protoProps),staticProps&&Keywords_defineProperties(Constructor,staticProps),Constructor}(Keywords,[{key:"resetState",value:function resetState(props){this.setState({keywords:props.card.entries,adds:[],removes:[],isEditing:!1,hasError:!1,isLoading:!1})}},{key:"render",value:function render(){var _this$props=this.props,card=_this$props.card,getViewer=_this$props.getViewer,isEditable=_this$props.isEditable,duration=card.duration,_this$state3=this.state,isEditing=_this$state3.isEditing,isLoading=_this$state3.isLoading,hasError=_this$state3.hasError,keywords=_this$state3.keywords,removes=_this$state3.removes,adds=_this$state3.adds,hasKeywords=0<keywords.length,entries=keywords.filter((function(face){return!removes.includes(face)})).concat(adds),editClassName=classnames_default()("be-keyword-edit",{"be-keyword-is-editing":isEditing});return react_default.a.createElement(LoadingIndicatorWrapper.a,{className:"be-keywords",isLoading:isLoading},hasKeywords&&isEditable&&!isLoading&&react_default.a.createElement(Tooltip.c,{text:react_default.a.createElement(components_message.a,messages.a.editLabel)},react_default.a.createElement(PlainButton.a,{className:editClassName,"data-resin-target":interactionTargets.f.KEYWORDS.EDIT,onClick:this.toggleIsEditing,type:"button"},Keywords_ref2)),hasError&&react_default.a.createElement(InlineError.a,{title:react_default.a.createElement(components_message.a,messages.a.sidebarSkillsErrorTitle)},react_default.a.createElement(components_message.a,messages.a.sidebarSkillsErrorContent)),isEditing&&react_default.a.createElement(skills_keywords_EditableKeywords,{keywords:entries,onAdd:this.onAdd,onCancel:this.onCancel,onDelete:this.onDelete,onSave:this.onSave}),!isEditing&&hasKeywords&&react_default.a.createElement(keywords_ReadOnlyKeywords,{duration:duration,getViewer:getViewer,keywords:entries}),!isEditing&&!hasKeywords&&react_default.a.createElement(components_message.a,messages.a.skillNoInfoFoundError))}}]),Keywords}(react.PureComponent);Keywords_Keywords.displayName="Keywords";var skills_keywords_Keywords=Keywords_Keywords,IconClose=__webpack_require__(163),IconMinus_IconMinus=function IconMinus(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?"#000000":_ref$color,_ref$height=_ref.height,height=void 0===_ref$height?16:_ref$height,title=_ref.title,_ref$width=_ref.width,width=void 0===_ref$width?16:_ref$width;return react.createElement(accessible_svg.a,{className:"icon-minus ".concat(className),height:height,title:title,viewBox:"0 0 16 16",width:width},react.createElement("path",{d:"M2 5h8v2H2z",fill:color,fillRule:"evenodd"}))},general_IconMinus=IconMinus_IconMinus;try{IconMinus_IconMinus.displayName="IconMinus",IconMinus_IconMinus.__docgenInfo={description:"",displayName:"IconMinus",props:{color:{defaultValue:{value:"#000000"},description:"A string describing the color for the icon",name:"color",required:!1,type:{name:"string"}},fillColor:{defaultValue:null,description:"A string describing the fill color for the icon",name:"fillColor",required:!1,type:{name:"string"}},opacity:{defaultValue:null,description:"A number specifying the opacity of the icon",name:"opacity",required:!1,type:{name:"number"}},strokeColor:{defaultValue:null,description:"A string describing the color of the icon's stroke",name:"strokeColor",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:null,description:"A number specifying the width of the icon's stroke",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"Class name for the icon",name:"className",required:!1,type:{name:"string"}},height:{defaultValue:{value:16},description:"A number specifying the height of the icon",name:"height",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"A string describing the icon if it's not purely decorative for accessibility",name:"title",required:!1,type:{name:"string | ReactElement<string, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)>) | (new (props: any) => Component<any, any, any>)>"}},width:{defaultValue:{value:16},description:"A number specifying the width of the icon",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/general/IconMinus.tsx#IconMinus"]={docgenInfo:IconMinus_IconMinus.__docgenInfo,name:"IconMinus",path:"src/icons/general/IconMinus.tsx#IconMinus"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(4290);var Face_ref2=react.createElement(general_IconMinus,{color:constants.E}),Face_ref3=react.createElement(IconClose.a,{color:constants.D,height:16,width:16}),Face_Face=function(_ref){var face=_ref.face,selected=_ref.selected,isEditing=_ref.isEditing,onDelete=_ref.onDelete,onSelect=_ref.onSelect,isAnyFaceSelected=!!selected,isCurrentFaceSelected=face===selected,faceClassName=classnames_default()("be-face-wrapper",{"be-face-unselected":!isEditing&&isAnyFaceSelected&&!isCurrentFaceSelected});return react.createElement("div",{className:faceClassName},react.createElement(PlainButton.a,{className:"be-face","data-resin-target":interactionTargets.f.FACES.FACE,onClick:function onClick(){return!isEditing&&onSelect(face)},type:"button"},react.createElement("img",{alt:face.text,src:face.image_url,title:face.text}),isAnyFaceSelected&&isCurrentFaceSelected&&!isEditing&&Face_ref2),isEditing&&react.createElement(PlainButton.a,{className:"be-face-delete","data-resin-target":interactionTargets.f.FACES.DELETE,onClick:function onClick(){return onDelete(face)},type:"button"},Face_ref3))};Face_Face.displayName="Face";var faces_Face=Face_Face;__webpack_require__(4291);function Faces_typeof(obj){return(Faces_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Faces_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Faces_getPrototypeOf(o){return(Faces_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Faces_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Faces_setPrototypeOf(o,p){return(Faces_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Faces_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Faces_ref=react.createElement(IconEdit.a,null),Faces_Faces=function(_React$PureComponent){function Faces(props){var _this;return function Faces_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Faces),_this=function Faces_possibleConstructorReturn(self,call){return!call||"object"!==Faces_typeof(call)&&"function"!=typeof call?Faces_assertThisInitialized(self):call}(this,Faces_getPrototypeOf(Faces).call(this,props)),Faces_defineProperty(Faces_assertThisInitialized(_this),"toggleIsEditing",(function(){_this.setState((function(prevState){return{isEditing:!prevState.isEditing}}))})),Faces_defineProperty(Faces_assertThisInitialized(_this),"onSelect",(function(face){var selected=_this.state.selected;_this.setState({selected:selected===face?void 0:face})})),Faces_defineProperty(Faces_assertThisInitialized(_this),"onDelete",(function(face){var removes=_this.state.removes;removes.push(face),_this.setState({removes:removes.slice(0)})})),Faces_defineProperty(Faces_assertThisInitialized(_this),"onSave",(function(){var onSkillChange=_this.props.onSkillChange,removes=_this.state.removes;_this.toggleIsEditing(),0<removes.length&&(_this.setState({isLoading:!0}),onSkillChange(removes))})),Faces_defineProperty(Faces_assertThisInitialized(_this),"onCancel",(function(){_this.resetState(_this.props)})),_this.state={faces:props.card.entries,removes:[],isEditing:props.hasError,hasError:props.hasError,isLoading:!1},_this}return function Faces_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Faces_setPrototypeOf(subClass,superClass)}(Faces,_React$PureComponent),function Faces_createClass(Constructor,protoProps,staticProps){return protoProps&&Faces_defineProperties(Constructor.prototype,protoProps),staticProps&&Faces_defineProperties(Constructor,staticProps),Constructor}(Faces,[{key:"resetState",value:function resetState(props){this.setState({faces:props.card.entries,removes:[],isEditing:!1,selected:void 0,hasError:!1,isLoading:!1})}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,card=_this$props.card,isEditable=_this$props.isEditable,getViewer=_this$props.getViewer,_this$state=this.state,selected=_this$state.selected,faces=_this$state.faces,removes=_this$state.removes,isEditing=_this$state.isEditing,hasError=_this$state.hasError,isLoading=_this$state.isLoading,duration=card.duration,hasFaces=0<faces.length,entries=faces.filter((function(face){return!removes.includes(face)})),editClassName=classnames_default()("be-face-edit",{"be-faces-is-editing":isEditing});return react.createElement(LoadingIndicatorWrapper.a,{className:"be-faces",isLoading:isLoading},hasFaces&&isEditable&&!isLoading&&react.createElement(Tooltip.c,{text:react.createElement(components_message.a,messages.a.editLabel)},react.createElement(PlainButton.a,{className:editClassName,"data-resin-target":interactionTargets.f.FACES.EDIT,onClick:this.toggleIsEditing,type:"button"},Faces_ref)),hasError&&react.createElement(InlineError.a,{title:react.createElement(components_message.a,messages.a.sidebarSkillsErrorTitle)},react.createElement(components_message.a,messages.a.sidebarSkillsErrorContent)),hasFaces?entries.map((function(face,index){return react.createElement(faces_Face,{key:index,face:face,isEditing:isEditing,onDelete:_this2.onDelete,onSelect:_this2.onSelect,selected:selected})})):react.createElement(components_message.a,messages.a.skillNoInfoFoundError),!!selected&&!isEditing&&Array.isArray(selected.appears)&&0<selected.appears.length&&react.createElement(timeline_Timeline,{duration:duration,getViewer:getViewer,interactionTarget:interactionTargets.f.FACES.TIMELINE,timeslices:selected.appears}),isEditing&&react.createElement("div",{className:"be-faces-buttons"},react.createElement(Button.b,{"data-resin-target":interactionTargets.f.FACES.EDIT_CANCEL,onClick:this.onCancel,type:"button"},react.createElement(components_message.a,messages.a.cancel)),react.createElement(PrimaryButton.a,{"data-resin-target":interactionTargets.f.FACES.EDIT_SAVE,onClick:this.onSave,type:"button"},react.createElement(components_message.a,messages.a.save))))}}]),Faces}(react.PureComponent);Faces_Faces.displayName="Faces";var skills_faces_Faces=Faces_Faces,skills_SidebarSkillsCard=function(_ref){var card=_ref.card,cards=_ref.cards,hasError=_ref.hasError,isEditable=_ref.isEditable,onSkillChange=_ref.onSkillChange,getViewer=_ref.getViewer;switch(card.skill_card_type){case constants.Oe:return react_default.a.createElement(skills_keywords_Keywords,{card:card,getViewer:getViewer,hasError:hasError,isEditable:isEditable,onSkillChange:onSkillChange,transcript:isEditable?cards.find((function(_ref2){return _ref2.skill_card_type===constants.Te})):void 0});case constants.Se:case constants.Ne:return react_default.a.createElement(skills_faces_Faces,{card:card,getViewer:getViewer,hasError:hasError,isEditable:isEditable,onSkillChange:onSkillChange});case constants.Te:return react_default.a.createElement(skills_transcript_Transcript,{card:card,getViewer:getViewer,hasError:hasError,isEditable:isEditable,onSkillChange:onSkillChange});case constants.Pe:return react_default.a.createElement(status_Status,{card:card});default:return null}},skills_SidebarSkills=function(_ref3){var file=_ref3.file,cards=_ref3.cards,errors=_ref3.errors,getViewer=_ref3.getViewer,_onSkillChange=_ref3.onSkillChange,_file$permissions=file.permissions,isSkillEditable=!!(void 0===_file$permissions?{}:_file$permissions).can_upload;return cards.map((function(card,index){card.error&&!card.status&&(card.skill_card_type=constants.Pe,card.status={code:constants.Me},delete card.error);var cardId=card.id||uniqueId_default()("card_"),isValid=Object(skillUtils.b)(file,card),interactionTarget=function(_ref){switch(_ref.skill_card_type){case constants.Oe:return interactionTargets.f.KEYWORDS.CARD;case constants.Ne:case constants.Se:return interactionTargets.f.FACES.CARD;case constants.Te:return interactionTargets.f.TRANSCRIPTS.CARD;default:return""}}(card),title=function(_ref2){var skill_card_type=_ref2.skill_card_type,_ref2$skill_card_titl=_ref2.skill_card_title,skill_card_title=void 0===_ref2$skill_card_titl?{}:_ref2$skill_card_titl,code=skill_card_title.code,message=skill_card_title.message,defaultKey="".concat(skill_card_type,"Skill"),defaultMessage=messages.a[defaultKey]||messages.a.defaultSkill;switch(code){case"skills_faces":return react.createElement(components_message.a,messages.a.faceSkill);case"skills_transcript":return react.createElement(components_message.a,messages.a.transcriptSkill);case"skills_topics":return react.createElement(components_message.a,messages.a.topicsSkill);case"skills_status":return react.createElement(components_message.a,messages.a.statusSkill);case"skills_error":return react.createElement(components_message.a,messages.a.error);default:return message||react.createElement(components_message.a,defaultMessage)}}(card),hasEntries=Array.isArray(card.entries)?0<card.entries.length:isValid;return isValid?react.createElement(SidebarSection.a,{key:cardId,interactionTarget:interactionTarget,isOpen:hasEntries,title:title},react.createElement(skills_SidebarSkillsCard,{card:card,cards:cards,getViewer:getViewer,hasError:!!errors[index],isEditable:isSkillEditable,onSkillChange:function onSkillChange(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _onSkillChange.apply(void 0,[index].concat(args))}})):null}))},logger_constants=__webpack_require__(509),performance=__webpack_require__(399),api_context=__webpack_require__(800),error_boundary=__webpack_require__(801),common_logger=__webpack_require__(802);__webpack_require__(4292);function SkillsSidebar_typeof(obj){return(SkillsSidebar_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SkillsSidebar_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SkillsSidebar_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?SkillsSidebar_ownKeys(Object(source),!0).forEach((function(key){SkillsSidebar_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SkillsSidebar_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function SkillsSidebar_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function SkillsSidebar_getPrototypeOf(o){return(SkillsSidebar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SkillsSidebar_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function SkillsSidebar_setPrototypeOf(o,p){return(SkillsSidebar_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function SkillsSidebar_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.d(__webpack_exports__,"SkillsSidebarComponent",(function(){return SkillsSidebar_SkillsSidebar}));var MARK_NAME_JS_READY="".concat(constants.ge,"_").concat(logger_constants.a);Object(performance.b)(MARK_NAME_JS_READY);var SkillsSidebar_ref4=react.createElement(LoadingIndicator.b,null),SkillsSidebar_SkillsSidebar=function(_React$PureComponent){function SkillsSidebar(props){var _this;return function SkillsSidebar_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SkillsSidebar),_this=function SkillsSidebar_possibleConstructorReturn(self,call){return!call||"object"!==SkillsSidebar_typeof(call)&&"function"!=typeof call?SkillsSidebar_assertThisInitialized(self):call}(this,SkillsSidebar_getPrototypeOf(SkillsSidebar).call(this,props)),SkillsSidebar_defineProperty(SkillsSidebar_assertThisInitialized(_this),"state",{errors:{}}),SkillsSidebar_defineProperty(SkillsSidebar_assertThisInitialized(_this),"fetchSkillsSuccessCallback",(function(cards){_this.updatePreviewTranscript(cards),_this.setState({cards:cards})})),SkillsSidebar_defineProperty(SkillsSidebar_assertThisInitialized(_this),"updatePreviewTranscript",(function(cards){var _this$props=_this.props,getPreview=_this$props.getPreview,getViewer=_this$props.getViewer,preview=getPreview?getPreview():null,viewer=getViewer?getViewer():null,transcriptCard=cards.find((function(card){return card.skill_card_type===constants.Te}));transcriptCard&&preview&&(viewer?"function"==typeof viewer.loadAutoGeneratedCaptions&&viewer.loadAutoGeneratedCaptions(transcriptCard):preview.addListener("load",(function(_ref){var loadedViewer=_ref.viewer;"function"==typeof loadedViewer.loadAutoGeneratedCaptions&&loadedViewer.loadAutoGeneratedCaptions(transcriptCard)})))})),SkillsSidebar_defineProperty(SkillsSidebar_assertThisInitialized(_this),"onSaveSuccessHandler",(function(index,updatedCards){var clone=SkillsSidebar_objectSpread({},_this.state.errors);delete clone[index],_this.updatePreviewTranscript(updatedCards),_this.setState({cards:updatedCards,errors:clone})})),SkillsSidebar_defineProperty(SkillsSidebar_assertThisInitialized(_this),"onSaveErrorHandler",(function(index){var clone=SkillsSidebar_objectSpread({},_this.state.errors);clone[index]=!0,_this.setState({errors:clone})})),SkillsSidebar_defineProperty(SkillsSidebar_assertThisInitialized(_this),"onSave",(function(index){var removes=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],adds=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],replaces=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],_this$props2=_this.props,api=_this$props2.api,file=_this$props2.file,_this$state$cards=_this.state.cards,cards=void 0===_this$state$cards?[]:_this$state$cards,card=cards[index],path="/cards/".concat(index),ops=[],canEdit=get_default()(file,constants.Qc,!1);if(canEdit&&card){if(Array.isArray(replaces)&&replaces.forEach((function(_ref2){var replaced=_ref2.replaced,replacement=_ref2.replacement,idx=card.entries.findIndex((function(entry){return entry===replaced}));-1<idx&&ops.push({op:"replace",path:"".concat(path,"/entries/").concat(idx),value:replacement})})),Array.isArray(removes)){var deletes=[];removes.forEach((function(removed){var idx=card.entries.findIndex((function(entry){return entry===removed}));-1<idx&&deletes.push(idx)})),deletes.sort((function(a,b){return b-a})).forEach((function(idx){ops.push({op:"remove",path:"".concat(path,"/entries/").concat(idx)})}))}Array.isArray(adds)&&adds.forEach((function(added){ops.push({op:"add",path:"".concat(path,"/entries/-"),value:added})})),0!==ops.length&&(ops.splice(0,0,{op:"test",path:path,value:card}),api.getMetadataAPI(!1).updateSkills(file,ops,(function(updatedCards){_this.onSaveSuccessHandler(index,updatedCards)}),(function(){_this.onSaveErrorHandler(index)})))}})),_this.props.logger.onReadyMetric({endMarkName:MARK_NAME_JS_READY}),_this}return function SkillsSidebar_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SkillsSidebar_setPrototypeOf(subClass,superClass)}(SkillsSidebar,_React$PureComponent),function SkillsSidebar_createClass(Constructor,protoProps,staticProps){return protoProps&&SkillsSidebar_defineProperties(Constructor.prototype,protoProps),staticProps&&SkillsSidebar_defineProperties(Constructor,staticProps),Constructor}(SkillsSidebar,[{key:"componentDidMount",value:function componentDidMount(){var _this$props3=this.props,api=_this$props3.api,file=_this$props3.file;api.getMetadataAPI(!1).getSkills(file,this.fetchSkillsSuccessCallback,noop_default.a)}},{key:"componentDidUpdate",value:function componentDidUpdate(_ref3){var prevRefreshIdentity=_ref3.refreshIdentity,_this$props4=this.props,api=_this$props4.api,file=_this$props4.file;_this$props4.refreshIdentity!==prevRefreshIdentity&&api.getMetadataAPI(!1).getSkills(file,this.fetchSkillsSuccessCallback,noop_default.a)}},{key:"render",value:function render(){var _this$props5=this.props,file=_this$props5.file,getViewer=_this$props5.getViewer,elementId=_this$props5.elementId,_this$state=this.state,cards=_this$state.cards,errors=_this$state.errors;return react.createElement(SidebarContent.a,{className:"bcs-skills",elementId:elementId,sidebarView:constants.Ae,title:react.createElement(components_message.a,messages.a.sidebarSkillsTitle)},cards?react.createElement(skills_SidebarSkills,{cards:cards,errors:errors,file:file,getViewer:getViewer,onSkillChange:this.onSave}):SkillsSidebar_ref4)}}]),SkillsSidebar}(react.PureComponent);SkillsSidebar_SkillsSidebar.displayName="SkillsSidebar";__webpack_exports__.default=flow_default()([Object(common_logger.a)(constants.ge),Object(error_boundary.a)(constants.ge),api_context.b])(SkillsSidebar_SkillsSidebar)}}]);
//# sourceMappingURL=skills-sidebar.cb61ce43265a323e53bd.bundle.js.map