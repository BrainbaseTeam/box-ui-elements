{"version":3,"sources":["../../../src/components/flyout/Overlay.js"],"names":["React","omit","FocusTrap","Overlay","onClose","props","setTimeout","event","key","stopPropagation","preventDefault","closeOverlay","children","className","rest","overlayProps","handleOverlayKeyDown","tabIndex","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAOC,SAAP,MAAsB,eAAtB;;IAYMC,O;;;;;;;;;;;;;;;;;;mEACa,YAAM;AAAA,UACTC,OADS,GACG,MAAKC,KADR,CACTD,OADS;;AAEjB,UAAI,CAACA,OAAL,EAAc;AACV;AACH;;AACDE,MAAAA,UAAU,CAAC;AAAA,eAAMF,OAAO,EAAb;AAAA,OAAD,EAAkB,CAAlB,CAAV;AACH,K;;2EAEsB,UAACG,KAAD,EAAqC;AACxD,UAAIA,KAAK,CAACC,GAAN,KAAc,QAAlB,EAA4B;AACxB;AACH;;AACDD,MAAAA,KAAK,CAACE,eAAN;AACAF,MAAAA,KAAK,CAACG,cAAN;;AACA,YAAKC,YAAL;AACH,K;;;;;;;6BAEQ;AAAA,wBACoC,KAAKN,KADzC;AAAA,UACGO,QADH,eACGA,QADH;AAAA,UACaC,SADb,eACaA,SADb;AAAA,UAC2BC,IAD3B;;AAEL,UAAMC,YAAY,GAAGd,IAAI,CAACa,IAAD,EAAO,CAAC,SAAD,CAAP,CAAzB;AACAC,MAAAA,YAAY,CAACF,SAAb,GAAyBA,SAAzB;AACAE,MAAAA,YAAY,CAACC,oBAAb,GAAoC,KAAKA,oBAAzC;AACAD,MAAAA,YAAY,CAACE,QAAb,GAAwB,CAAxB;AAEA,aACI,oBAAC,SAAD,EAAeF,YAAf,EACI;AAAK,QAAA,SAAS,EAAC;AAAf,SAA0BH,QAA1B,CADJ,CADJ;AAKH;;;;EA9BiBZ,KAAK,CAACkB,S;;AAiC5B,eAAef,OAAf","sourcesContent":["// @flow\nimport * as React from 'react';\nimport omit from 'lodash/omit';\n\nimport FocusTrap from '../focus-trap';\n\nexport type Props = {\n    /** Overlay contents */\n    children: React.Node,\n    /** Component class names */\n    className?: string,\n    onClick?: Function,\n    onClose?: Function,\n    shouldDefaultFocus?: boolean,\n};\n\nclass Overlay extends React.Component<Props> {\n    closeOverlay = () => {\n        const { onClose } = this.props;\n        if (!onClose) {\n            return;\n        }\n        setTimeout(() => onClose(), 0);\n    };\n\n    handleOverlayKeyDown = (event: SyntheticKeyboardEvent<>) => {\n        if (event.key !== 'Escape') {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        this.closeOverlay();\n    };\n\n    render() {\n        const { children, className, ...rest } = this.props;\n        const overlayProps = omit(rest, ['onClose']);\n        overlayProps.className = className;\n        overlayProps.handleOverlayKeyDown = this.handleOverlayKeyDown;\n        overlayProps.tabIndex = 0;\n\n        return (\n            <FocusTrap {...overlayProps}>\n                <div className=\"overlay\">{children}</div>\n            </FocusTrap>\n        );\n    }\n}\n\nexport default Overlay;\n"],"file":"Overlay.js"}