{"version":3,"sources":["../../../src/components/radar/RadarAnimation.js"],"names":["React","uniqueId","TetherComponent","BOTTOM_CENTER","BOTTOM_LEFT","BOTTOM_RIGHT","MIDDLE_CENTER","MIDDLE_LEFT","MIDDLE_RIGHT","TOP_CENTER","TOP_LEFT","TOP_RIGHT","positions","attachment","targetAttachment","RadarAnimation","createRef","isShown","props","tetherRef","current","position","children","className","constrainToScrollParent","constrainToWindow","constraints","push","to","tetherPosition","cloneElement","Children","only","radarAnimationID","Component"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react';\nimport uniqueId from 'lodash/uniqueId';\nimport TetherComponent from 'react-tether';\n\nimport './RadarAnimation.scss';\n\nconst BOTTOM_CENTER = 'bottom-center';\nconst BOTTOM_LEFT = 'bottom-left';\nconst BOTTOM_RIGHT = 'bottom-right';\nconst MIDDLE_CENTER = 'middle-center';\nconst MIDDLE_LEFT = 'middle-left';\nconst MIDDLE_RIGHT = 'middle-right';\nconst TOP_CENTER = 'top-center';\nconst TOP_LEFT = 'top-left';\nconst TOP_RIGHT = 'top-right';\n\nconst positions = {\n    [BOTTOM_CENTER]: {\n        attachment: 'top center',\n        targetAttachment: 'bottom center',\n    },\n    [BOTTOM_LEFT]: {\n        attachment: 'top left',\n        targetAttachment: 'bottom left',\n    },\n    [BOTTOM_RIGHT]: {\n        attachment: 'top right',\n        targetAttachment: 'bottom right',\n    },\n    [MIDDLE_CENTER]: {\n        attachment: 'middle center',\n        targetAttachment: 'middle center',\n    },\n    [MIDDLE_LEFT]: {\n        attachment: 'middle right',\n        targetAttachment: 'middle left',\n    },\n    [MIDDLE_RIGHT]: {\n        attachment: 'middle left',\n        targetAttachment: 'middle right',\n    },\n    [TOP_CENTER]: {\n        attachment: 'bottom center',\n        targetAttachment: 'top center',\n    },\n    [TOP_LEFT]: {\n        attachment: 'bottom left',\n        targetAttachment: 'top left',\n    },\n    [TOP_RIGHT]: {\n        attachment: 'bottom right',\n        targetAttachment: 'top right',\n    },\n};\n\nexport type Position = $Keys<typeof positions>;\n\ntype Props = {\n    /** A React element to put the radar on */\n    children: React.Element<any>,\n    /** A CSS class for the radar */\n    className?: string,\n    /** Whether to constrain the radar to the element's scroll parent. Defaults to `false` */\n    constrainToScrollParent: boolean,\n    /** Whether to constrain the radar to window. Defaults to `true` */\n    constrainToWindow: boolean,\n    /** Forces the radar to be shown or hidden - defaults to true */\n    isShown: boolean,\n    /** Where to position the radar relative to the wrapped component */\n    position: Position,\n};\n\nclass RadarAnimation extends React.Component<Props> {\n    static defaultProps = {\n        constrainToScrollParent: false,\n        constrainToWindow: true,\n        isShown: true,\n        position: MIDDLE_RIGHT,\n    };\n\n    tetherRef = React.createRef<{ position: () => {} }>();\n\n    radarAnimationID = uniqueId('radarAnimation');\n\n    // Instance API: Forces the radar to be repositioned\n    position = () => {\n        const { isShown } = this.props;\n        if (this.tetherRef.current && isShown) {\n            this.tetherRef.current.position();\n        }\n    };\n\n    render() {\n        const { children, className = '', constrainToScrollParent, constrainToWindow, position, isShown } = this.props;\n\n        const constraints = [];\n        if (constrainToScrollParent) {\n            constraints.push({\n                to: 'scrollParent',\n                attachment: 'together',\n            });\n        }\n        if (constrainToWindow) {\n            constraints.push({\n                to: 'window',\n                attachment: 'together',\n            });\n        }\n\n        const tetherPosition = positions[position];\n        return (\n            <TetherComponent\n                attachment={tetherPosition.attachment}\n                classPrefix=\"radar-animation\"\n                constraints={constraints}\n                targetAttachment={tetherPosition.targetAttachment}\n                ref={this.tetherRef}\n            >\n                {React.cloneElement(React.Children.only(children), {\n                    'aria-describedby': this.radarAnimationID,\n                })}\n                {isShown && (\n                    <div className={`radar ${className}`} id={this.radarAnimationID}>\n                        <div className=\"radar-dot\" />\n                        <div className=\"radar-circle\" />\n                    </div>\n                )}\n            </TetherComponent>\n        );\n    }\n}\n\nexport default RadarAnimation;\n"],"file":"RadarAnimation.js"}