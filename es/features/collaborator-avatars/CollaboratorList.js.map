{"version":3,"sources":["../../../src/features/collaborator-avatars/CollaboratorList.js"],"names":["React","FormattedMessage","ModalActions","Button","PlainButton","Link","CollaborationBadge","commonMessages","CollaboratorListItem","messages","MAX_COLLABORATOR_LIST_SIZE","CollaboratorList","children","trackingProp","item","props","type","id","collaboratorsPageLink","collaborators","onDoneClick","maxCollaboratorListSize","trackingProps","usernameProps","emailProps","manageLinkProps","viewAdditionalProps","doneButtonProps","manageAllBtn","manageAllLinkText","maxListSizeToRender","Math","min","createCollaboratorPageLink","slice","map","collaborator","index","collabID","length","viewAdditionalPeopleText","done","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,gBAAT,QAAiC,YAAjC;AAEA,SAASC,YAAT,QAA6B,wBAA7B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,IAAT,QAAqB,uBAArB;AACA,OAAOC,kBAAP,MAA+B,uCAA/B;AAOA,OAAOC,cAAP,MAA2B,uBAA3B;AAEA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,yBAAP;AAEA,IAAMC,0BAA0B,GAAG,EAAnC;;IAWMC,gB;;;;;;;;;;;;;+CAKyBC,Q,EAAsBC,Y,EAAuB;AAAA,UAC5DC,IAD4D,GACnD,KAAKC,KAD8C,CAC5DD,IAD4D;AAAA,UAE5DE,IAF4D,GAE/CF,IAF+C,CAE5DE,IAF4D;AAAA,UAEtDC,EAFsD,GAE/CH,IAF+C,CAEtDG,EAFsD;AAGpE,UAAMC,qBAAqB,cAAOF,IAAP,cAAeC,EAAf,oBAA3B;AAEA,0BACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAEC,qBAAZ;AAAmC,QAAA,GAAG,EAAC,UAAvC;AAAkD,QAAA,MAAM,EAAC;AAAzD,SAAsEL,YAAtE,GACKD,QADL,CADJ;AAKH;;;6BAEQ;AAAA,wBAC0E,KAAKG,KAD/E;AAAA,UACGI,aADH,eACGA,aADH;AAAA,UACkBC,WADlB,eACkBA,WADlB;AAAA,UAC+BC,uBAD/B,eAC+BA,uBAD/B;AAAA,UACwDC,aADxD,eACwDA,aADxD;AAAA,UAEGC,aAFH,GAEwFD,aAFxF,CAEGC,aAFH;AAAA,UAEkBC,UAFlB,GAEwFF,aAFxF,CAEkBE,UAFlB;AAAA,UAE8BC,eAF9B,GAEwFH,aAFxF,CAE8BG,eAF9B;AAAA,UAE+CC,mBAF/C,GAEwFJ,aAFxF,CAE+CI,mBAF/C;AAAA,UAEoEC,eAFpE,GAEwFL,aAFxF,CAEoEK,eAFpE;AAGL,UAAMC,YAAY,gBACd,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAC,gBAAvB;AAAwC,QAAA,IAAI,EAAC;AAA7C,sBACI,oBAAC,gBAAD,EAAsBnB,QAAQ,CAACoB,iBAA/B,CADJ,CADJ;AAKA,UAAMC,mBAAmB,GAAGC,IAAI,CAACC,GAAL,CAASX,uBAAT,EAAkCX,0BAAlC,CAA5B;AAEA,0BACI;AAAK,QAAA,SAAS,EAAC;AAAf,sBACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACK,KAAKuB,0BAAL,CAAgCL,YAAhC,EAA8CH,eAA9C,CADL,CADJ,eAII;AAAI,QAAA,SAAS,EAAC;AAAd,SACKN,aAAa,CAACe,KAAd,CAAoB,CAApB,EAAuBJ,mBAAvB,EAA4CK,GAA5C,CAAgD,UAACC,YAAD,EAAeC,KAAf,EAAyB;AAAA,YAC9DC,QAD8D,GAC3CF,YAD2C,CAC9DE,QAD8D;AAAA,YACpDtB,IADoD,GAC3CoB,YAD2C,CACpDpB,IADoD;AAEtE,4BACI,oBAAC,oBAAD;AACI,UAAA,GAAG,YAAKsB,QAAL,cAAiBtB,IAAjB,CADP;AAEI,UAAA,YAAY,EAAEoB,YAFlB;AAGI,UAAA,KAAK,EAAEC,KAHX;AAII,UAAA,aAAa,EAAE;AACXd,YAAAA,aAAa,EAAbA,aADW;AAEXC,YAAAA,UAAU,EAAVA;AAFW;AAJnB,UADJ;AAWH,OAbA,CADL,EAeKL,aAAa,CAACoB,MAAd,GAAuBT,mBAAvB,iBACG;AAAI,QAAA,SAAS,EAAC;AAAd,sBACI,8CACI,oBAAC,kBAAD;AAAoB,QAAA,MAAM,EAAE,EAA5B;AAAgC,QAAA,KAAK,EAAE;AAAvC,QADJ,CADJ,eAII,iCACK,KAAKG,0BAAL,eACG,oBAAC,gBAAD,EAAsBxB,QAAQ,CAAC+B,wBAA/B,CADH,EAEGd,mBAFH,CADL,CAJJ,CAhBR,CAJJ,eAiCI,oBAAC,YAAD,qBACI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,UAAlB;AAA6B,QAAA,OAAO,EAAEN;AAAtC,SAAuDO,eAAvD,gBACI,oBAAC,gBAAD,EAAsBpB,cAAc,CAACkC,IAArC,CADJ,CADJ,CAjCJ,CADJ;AAyCH;;;;EApE0BzC,KAAK,CAAC0C,S;;gBAA/B/B,gB,kBACoB;AAClBU,EAAAA,uBAAuB,EAAEX;AADP,C;;AAsE1B,eAAeC,gBAAf","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { ModalActions } from '../../components/modal';\nimport Button from '../../components/button';\nimport PlainButton from '../../components/plain-button';\nimport { Link } from '../../components/link';\nimport CollaborationBadge from '../../icons/badges/CollaborationBadge';\nimport type {\n    collaboratorListTrackingType,\n    item as ItemType,\n    collaboratorType,\n} from '../unified-share-modal/flowTypes';\n\nimport commonMessages from '../../common/messages';\n\nimport CollaboratorListItem from './CollaboratorListItem';\nimport messages from './messages';\nimport './CollaboratorList.scss';\n\nconst MAX_COLLABORATOR_LIST_SIZE = 90;\n\ntype Props = {\n    collaborators: Array<collaboratorType>,\n    doneButtonProps?: Object,\n    item: ItemType,\n    maxCollaboratorListSize: number,\n    onDoneClick: Function,\n    trackingProps: collaboratorListTrackingType,\n};\n\nclass CollaboratorList extends React.Component<Props> {\n    static defaultProps = {\n        maxCollaboratorListSize: MAX_COLLABORATOR_LIST_SIZE,\n    };\n\n    createCollaboratorPageLink(children: React.Node, trackingProp: ?Object) {\n        const { item } = this.props;\n        const { type, id } = item;\n        const collaboratorsPageLink = `/${type}/${id}/collaborators/`;\n\n        return (\n            <Link href={collaboratorsPageLink} rel=\"noopener\" target=\"_blank\" {...trackingProp}>\n                {children}\n            </Link>\n        );\n    }\n\n    render() {\n        const { collaborators, onDoneClick, maxCollaboratorListSize, trackingProps } = this.props;\n        const { usernameProps, emailProps, manageLinkProps, viewAdditionalProps, doneButtonProps } = trackingProps;\n        const manageAllBtn = (\n            <PlainButton className=\"manage-all-btn\" type=\"button\">\n                <FormattedMessage {...messages.manageAllLinkText} />\n            </PlainButton>\n        );\n        const maxListSizeToRender = Math.min(maxCollaboratorListSize, MAX_COLLABORATOR_LIST_SIZE);\n\n        return (\n            <div className=\"usm-collaborator-list\">\n                <div className=\"manage-all-btn-container\">\n                    {this.createCollaboratorPageLink(manageAllBtn, manageLinkProps)}\n                </div>\n                <ul className=\"collaborator-list\">\n                    {collaborators.slice(0, maxListSizeToRender).map((collaborator, index) => {\n                        const { collabID, type } = collaborator;\n                        return (\n                            <CollaboratorListItem\n                                key={`${collabID}-${type}`}\n                                collaborator={collaborator}\n                                index={index}\n                                trackingProps={{\n                                    usernameProps,\n                                    emailProps,\n                                }}\n                            />\n                        );\n                    })}\n                    {collaborators.length > maxListSizeToRender && (\n                        <li className=\"collaborator-list-item more\">\n                            <div>\n                                <CollaborationBadge height={32} width={32} />\n                            </div>\n                            <div>\n                                {this.createCollaboratorPageLink(\n                                    <FormattedMessage {...messages.viewAdditionalPeopleText} />,\n                                    viewAdditionalProps,\n                                )}\n                            </div>\n                        </li>\n                    )}\n                </ul>\n                <ModalActions>\n                    <Button className=\"btn-done\" onClick={onDoneClick} {...doneButtonProps}>\n                        <FormattedMessage {...commonMessages.done} />\n                    </Button>\n                </ModalActions>\n            </div>\n        );\n    }\n}\n\nexport default CollaboratorList;\n"],"file":"CollaboratorList.js"}