{"version":3,"sources":["../../../../src/features/content-explorer/content-explorer-modal-container/ContentExplorerModalContainer.js"],"names":["PropTypes","React","Component","classNames","ContentExplorerModePropType","FoldersPathPropType","ItemsPropType","ContentExplorerModal","NewFolderModal","ContentExplorerModalContainer","props","enteredFolder","newFoldersPath","onEnterFolder","setState","foldersPath","onNewFolderModalShown","isNewFolderModalOpen","onNewFolderModalClosed","state","initialFoldersPath","prevInitialFoldersPath","className","headerActionsAccessory","modalTitle","modalDescription","onRequestClose","onCreateFolderSubmit","onCreateFolderInput","isCreatingFolder","createFolderError","contentExplorerMode","onChooseItems","onMoveItem","onCopyItem","isCreateNewFolderAllowed","onSearchSubmit","onExitSearch","onSelectedClick","onSelectItem","items","numItemsPerPage","numTotalItems","onLoadMoreItems","itemIconRenderer","itemNameLinkRenderer","itemButtonRenderer","showCreateNewFolderButton","searchInputProps","chooseButtonText","initialSelectedItems","isSelectAllAllowed","currentFolder","length","handleEnterFolder","handleCreateNewFolderButtonClick","name","handleNewFolderModalClose","string","node","func","isRequired","bool","object","number"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport { ContentExplorerModePropType, FoldersPathPropType, ItemsPropType } from '../prop-types';\nimport ContentExplorerModal from '../content-explorer-modal';\nimport NewFolderModal from '../new-folder-modal';\n\nclass ContentExplorerModalContainer extends Component {\n    static propTypes = {\n        /** Adds class name. */\n        className: PropTypes.string,\n        /** Any extra items in the header to the right of the search input (and new folder button) */\n        headerActionsAccessory: PropTypes.node,\n        /** Title shown in the ContentExplorerModal. */\n        modalTitle: PropTypes.string,\n        /** Description text shown in the ContentExplorerModal. */\n        modalDescription: PropTypes.string,\n        /** Called when the ContentExplorerModal is closed. */\n        onRequestClose: PropTypes.func.isRequired,\n        /**\n         * Called when the folder creation is submitted.\n         *\n         * @param {string} folderName\n         */\n        onCreateFolderSubmit: PropTypes.func,\n        /**\n         * Called with the latest folder name input.\n         *\n         * @param {string} folderName\n         */\n        onCreateFolderInput: PropTypes.func,\n        /** Called when the NewFolderModal is shown. */\n        onNewFolderModalShown: PropTypes.func,\n        /** Called when the NewFolderModal is closed. */\n        onNewFolderModalClosed: PropTypes.func,\n        /** Called when selected button is clicked */\n        onSelectedClick: PropTypes.func,\n        /**\n         * Called when an item is selected\n         *\n         * @param {Object} selectedItem\n         * @param {number} selectedItemIndex\n         */\n        onSelectItem: PropTypes.func,\n        /** Folder is in the process of being created. */\n        isCreatingFolder: PropTypes.bool,\n        /** Whether the user can see select all checkbox */\n        isSelectAllAllowed: PropTypes.bool,\n        /** Message that will be shown when there was an error creating the folder. */\n        createFolderError: PropTypes.string,\n        /** Configures the content explorer based on the user's intended action (ex. select file or move/copy) */\n        contentExplorerMode: ContentExplorerModePropType.isRequired,\n        /** Initial path of folders. The last folder in the array is the current folder. */\n        initialFoldersPath: FoldersPathPropType.isRequired,\n        /** Initial items that will show up as selected */\n        initialSelectedItems: PropTypes.object,\n        /**\n         * Called when the current folder changes\n         *\n         * @param {Object} enteredFolder\n         * @param {Array} newFoldersPath\n         */\n        onEnterFolder: PropTypes.func.isRequired,\n        /**\n         * Called when items are chosen.\n         *\n         * @param {Object[]} chosenItems In non-multi select mode, the chosenItems will be a 1 element array contain the one chosen item\n         */\n        onChooseItems: PropTypes.func,\n        /**\n         * Called when a destination folder has been selected for moving an item to\n         *\n         * @param {Object} destFolder destination folder\n         */\n        onMoveItem: PropTypes.func,\n        /**\n         * Called when a destination folder has been selected for copying an item to\n         *\n         * @param {Object} destFolder destination folder\n         */\n        onCopyItem: PropTypes.func,\n        /** Whether the user has permission to create a new folder */\n        isCreateNewFolderAllowed: PropTypes.bool,\n        /**\n         * Called when a search query is submitted.\n         *\n         * @param {string} searchQuery\n         */\n        onSearchSubmit: PropTypes.func.isRequired,\n        /**\n         * Called when search mode is exited. An updated items list should now be passed in to display the user's file tree.\n         *\n         * @param {Object} folderBeforeSearch the previous folder object before entering search mode\n         */\n        onExitSearch: PropTypes.func.isRequired,\n        /** List of items to display */\n        items: ItemsPropType.isRequired,\n        /** Number of items to load per page as the user scrolls */\n        numItemsPerPage: PropTypes.number,\n        /** Total number of items across all pages */\n        numTotalItems: PropTypes.number,\n        /** Called to load more items */\n        onLoadMoreItems: PropTypes.func,\n        /** Used to render item icons in the list. Overrides the default icons. */\n        itemIconRenderer: PropTypes.func,\n        /** Used to render item name links in the list. Overrides the default links. */\n        itemNameLinkRenderer: PropTypes.func,\n        /** Used to render item buttons in the list. Overrides the default buttons. */\n        itemButtonRenderer: PropTypes.func,\n        /** Whether the new folder button should be shown */\n        showCreateNewFolderButton: PropTypes.bool,\n        /** Props for the search input */\n        searchInputProps: PropTypes.object,\n        /** Custom text for the choose button */\n        chooseButtonText: PropTypes.node,\n    };\n\n    static defaultProps = {\n        onCreateFolderSubmit: () => {},\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            foldersPath: props.initialFoldersPath,\n            isNewFolderModalOpen: false,\n        };\n    }\n\n    componentDidUpdate({ initialFoldersPath: prevInitialFoldersPath }) {\n        const { initialFoldersPath } = this.props;\n\n        if (prevInitialFoldersPath !== initialFoldersPath) {\n            // Close the new folder modal when the folders path has changed\n            this.setState({\n                foldersPath: initialFoldersPath,\n                isNewFolderModalOpen: false,\n            });\n        }\n    }\n\n    handleEnterFolder = (enteredFolder, newFoldersPath) => {\n        const { onEnterFolder } = this.props;\n\n        this.setState({ foldersPath: newFoldersPath });\n        onEnterFolder(enteredFolder, newFoldersPath);\n    };\n\n    handleCreateNewFolderButtonClick = () => {\n        const { onNewFolderModalShown } = this.props;\n\n        this.setState({ isNewFolderModalOpen: true }, () => onNewFolderModalShown && onNewFolderModalShown());\n    };\n\n    handleNewFolderModalClose = () => {\n        const { onNewFolderModalClosed } = this.props;\n\n        this.setState({ isNewFolderModalOpen: false }, () => onNewFolderModalClosed && onNewFolderModalClosed());\n    };\n\n    render() {\n        const {\n            className,\n            headerActionsAccessory,\n            modalTitle,\n            modalDescription,\n            onRequestClose,\n            onCreateFolderSubmit,\n            onCreateFolderInput,\n            isCreatingFolder,\n            createFolderError,\n            contentExplorerMode,\n            initialFoldersPath,\n            onChooseItems,\n            onMoveItem,\n            onCopyItem,\n            isCreateNewFolderAllowed,\n            onSearchSubmit,\n            onExitSearch,\n            onSelectedClick,\n            onSelectItem,\n            items,\n            numItemsPerPage,\n            numTotalItems,\n            onLoadMoreItems,\n            itemIconRenderer,\n            itemNameLinkRenderer,\n            itemButtonRenderer,\n            showCreateNewFolderButton,\n            searchInputProps,\n            chooseButtonText,\n            initialSelectedItems,\n            isSelectAllAllowed,\n        } = this.props;\n        const { foldersPath, isNewFolderModalOpen } = this.state;\n        const currentFolder = foldersPath[foldersPath.length - 1];\n\n        return (\n            <div className={classNames('content-explorer-modal-container', className)}>\n                <ContentExplorerModal\n                    className={isNewFolderModalOpen ? 'hidden' : ''}\n                    headerActionsAccessory={headerActionsAccessory}\n                    title={modalTitle}\n                    description={modalDescription}\n                    isOpen\n                    onRequestClose={onRequestClose}\n                    contentExplorerMode={contentExplorerMode}\n                    initialFoldersPath={initialFoldersPath}\n                    onEnterFolder={this.handleEnterFolder}\n                    onChooseItems={onChooseItems}\n                    onMoveItem={onMoveItem}\n                    onCopyItem={onCopyItem}\n                    onSelectedClick={onSelectedClick}\n                    onSelectItem={onSelectItem}\n                    onCreateNewFolderButtonClick={this.handleCreateNewFolderButtonClick}\n                    isCreateNewFolderAllowed={isCreateNewFolderAllowed}\n                    isSelectAllAllowed={isSelectAllAllowed}\n                    onSearchSubmit={onSearchSubmit}\n                    onExitSearch={onExitSearch}\n                    items={items}\n                    numItemsPerPage={numItemsPerPage}\n                    numTotalItems={numTotalItems}\n                    onLoadMoreItems={onLoadMoreItems}\n                    itemIconRenderer={itemIconRenderer}\n                    itemNameLinkRenderer={itemNameLinkRenderer}\n                    itemButtonRenderer={itemButtonRenderer}\n                    showCreateNewFolderButton={showCreateNewFolderButton}\n                    searchInputProps={searchInputProps}\n                    chooseButtonText={chooseButtonText}\n                    initialSelectedItems={initialSelectedItems}\n                />\n                {isNewFolderModalOpen && (\n                    <NewFolderModal\n                        isOpen\n                        parentFolderName={currentFolder.name}\n                        onRequestClose={this.handleNewFolderModalClose}\n                        onCreateFolderSubmit={onCreateFolderSubmit}\n                        onCreateFolderInput={onCreateFolderInput}\n                        isCreatingFolder={isCreatingFolder}\n                        createFolderError={createFolderError}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nexport default ContentExplorerModalContainer;\n"],"file":"ContentExplorerModalContainer.js"}