{"version":3,"sources":["../../../../src/features/shared-link-modal/stories/SharedLink.stories.js"],"names":["React","IntlProvider","State","Store","boolean","Button","Flyout","Overlay","SharedLink","notes","basic","componentStore","accessLevel","submitting","fakeRequest","set","Promise","resolve","setTimeout","state","width","constrainToWindow","peopleWithTheLink","peopleInYourCompany","peopleInThisItem","newLevel","then","title","component","parameters"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { State, Store } from '@sambego/storybook-state';\nimport { boolean } from '@storybook/addon-knobs';\n\nimport Button from '../../../components/button/Button';\nimport Flyout from '../../../components/flyout/Flyout';\nimport Overlay from '../../../components/flyout/Overlay';\n\nimport SharedLink from '../SharedLink';\nimport notes from './SharedLink.stories.md';\n\nexport const basic = () => {\n    const componentStore = new Store({\n        accessLevel: 'peopleInYourCompany',\n        submitting: false,\n    });\n\n    const fakeRequest = () => {\n        componentStore.set({ submitting: true });\n        return new Promise(resolve => {\n            setTimeout(() => {\n                componentStore.set({ submitting: false });\n                resolve();\n            }, 500);\n        });\n    };\n\n    return (\n        <State store={componentStore}>\n            {state => (\n                <IntlProvider locale=\"en\">\n                    <Flyout\n                        className=\"shared-link-flyout\"\n                        closeOnClick={boolean('closeOnClick', false)}\n                        constrainToScrollParent={boolean('constrainToScrollParent', false)}\n                        constrainToWindow={boolean('constrainToWindow', true)}\n                        portaledClasses={['modal', 'share-access-menu']}\n                        position=\"bottom-right\"\n                    >\n                        <Button>Shared Link Flyout</Button>\n                        <Overlay style={{ width: '300px' }}>\n                            <SharedLink\n                                accessDropdownMenuProps={{ constrainToWindow: true }}\n                                accessLevel={state.accessLevel}\n                                accessMenuButtonProps={{ 'data-resin-target': 'changepermissions' }}\n                                allowedAccessLevels={{\n                                    peopleWithTheLink: true,\n                                    peopleInYourCompany: true,\n                                    peopleInThisItem: true,\n                                }}\n                                canRemoveLink={boolean('canRemoveLink', true)}\n                                changeAccessLevel={newLevel =>\n                                    fakeRequest().then(() => componentStore.set({ accessLevel: newLevel }))\n                                }\n                                copyButtonProps={{ 'data-resin-target': 'copy' }}\n                                enterpriseName=\"Box\"\n                                isDownloadAllowed={boolean('isDownloadAllowed', true)}\n                                isEditAllowed={boolean('isEditAllowed', true)}\n                                isPreviewAllowed={boolean('isPreviewAllowed', true)}\n                                itemType=\"folder\"\n                                onSettingsClick={() => null}\n                                removeLink={fakeRequest}\n                                removeLinkButtonProps={{ 'data-resin-target': 'remove' }}\n                                settingsButtonProps={{ 'data-resin-target': 'settings' }}\n                                sharedLink=\"http://box.com/s/abcdefg\"\n                                submitting={state.submitting}\n                            />\n                        </Overlay>\n                    </Flyout>\n                </IntlProvider>\n            )}\n        </State>\n    );\n};\n\nexport default {\n    title: 'Features|SharedLink',\n    component: SharedLink,\n    parameters: {\n        notes,\n    },\n};\n"],"file":"SharedLink.stories.js"}