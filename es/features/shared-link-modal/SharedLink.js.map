{"version":3,"sources":["../../../src/features/shared-link-modal/SharedLink.js"],"names":["React","FormattedMessage","injectIntl","TextInputWithCopyButton","Tooltip","PlainButton","convertToMs","IconExpirationInverted","IconSettingInverted","SharedLinkAccess","messages","accessLevelPropType","allowedAccessLevelsPropType","permissionLevelPropType","SharedLink","props","accessDropdownMenuProps","accessLevel","accessMenuButtonProps","allowedAccessLevels","canRemoveLink","changeAccessLevel","changePermissionLevel","copyButtonProps","enterpriseName","expiration","intl","isDownloadAllowed","isEditAllowed","isPreviewAllowed","itemType","onCopySuccess","onSettingsClick","permissionLevel","removeLink","removeLinkButtonProps","settingsButtonProps","sharedLink","submitting","sharedLinkExpirationTooltip","formatMessage","settingsButtonLabel","sharedLinkLabel","SharedLinkBase"],"mappings":";;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,YAA7C;AAGA,OAAOC,uBAAP,MAAoC,8CAApC;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,OAAOC,sBAAP,MAAmC,4CAAnC;AACA,OAAOC,mBAAP,MAAgC,yCAAhC;AAEA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,mBAAT,EAA8BC,2BAA9B,EAA2DC,uBAA3D,QAA0F,aAA1F;AAEA,OAAO,mBAAP;;AA2BA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAkB;AAAA,MAE7BC,uBAF6B,GAyB7BD,KAzB6B,CAE7BC,uBAF6B;AAAA,MAG7BC,WAH6B,GAyB7BF,KAzB6B,CAG7BE,WAH6B;AAAA,MAI7BC,qBAJ6B,GAyB7BH,KAzB6B,CAI7BG,qBAJ6B;AAAA,MAK7BC,mBAL6B,GAyB7BJ,KAzB6B,CAK7BI,mBAL6B;AAAA,MAM7BC,aAN6B,GAyB7BL,KAzB6B,CAM7BK,aAN6B;AAAA,MAO7BC,iBAP6B,GAyB7BN,KAzB6B,CAO7BM,iBAP6B;AAAA,MAQ7BC,qBAR6B,GAyB7BP,KAzB6B,CAQ7BO,qBAR6B;AAAA,MAS7BC,eAT6B,GAyB7BR,KAzB6B,CAS7BQ,eAT6B;AAAA,MAU7BC,cAV6B,GAyB7BT,KAzB6B,CAU7BS,cAV6B;AAAA,MAW7BC,UAX6B,GAyB7BV,KAzB6B,CAW7BU,UAX6B;AAAA,MAY7BC,IAZ6B,GAyB7BX,KAzB6B,CAY7BW,IAZ6B;AAAA,MAa7BC,iBAb6B,GAyB7BZ,KAzB6B,CAa7BY,iBAb6B;AAAA,MAc7BC,aAd6B,GAyB7Bb,KAzB6B,CAc7Ba,aAd6B;AAAA,MAe7BC,gBAf6B,GAyB7Bd,KAzB6B,CAe7Bc,gBAf6B;AAAA,MAgB7BC,QAhB6B,GAyB7Bf,KAzB6B,CAgB7Be,QAhB6B;AAAA,MAiB7BC,aAjB6B,GAyB7BhB,KAzB6B,CAiB7BgB,aAjB6B;AAAA,MAkB7BC,eAlB6B,GAyB7BjB,KAzB6B,CAkB7BiB,eAlB6B;AAAA,MAmB7BC,eAnB6B,GAyB7BlB,KAzB6B,CAmB7BkB,eAnB6B;AAAA,MAoB7BC,UApB6B,GAyB7BnB,KAzB6B,CAoB7BmB,UApB6B;AAAA,MAqB7BC,qBArB6B,GAyB7BpB,KAzB6B,CAqB7BoB,qBArB6B;AAAA,8BAyB7BpB,KAzB6B,CAsB7BqB,mBAtB6B;AAAA,MAsB7BA,mBAtB6B,sCAsBP,EAtBO;AAAA,MAuB7BC,UAvB6B,GAyB7BtB,KAzB6B,CAuB7BsB,UAvB6B;AAAA,MAwB7BC,UAxB6B,GAyB7BvB,KAzB6B,CAwB7BuB,UAxB6B;AA2BjC,SACI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI;AAAK,IAAA,SAAS,EAAC;AAAf,KACKb,UAAU,GACP,oBAAC,OAAD;AACI,IAAA,QAAQ,EAAC,aADb;AAEI,IAAA,IAAI,EACA,oBAAC,gBAAD,eACQf,QAAQ,CAAC6B,2BADjB;AAEI,MAAA,MAAM,EAAE;AACJd,QAAAA,UAAU,EAAEnB,WAAW,CAACmB,UAAD;AADnB;AAFZ;AAHR,KAWI;AAAM,IAAA,SAAS,EAAC;AAAhB,KACI,oBAAC,sBAAD;AAAwB,IAAA,MAAM,EAAE,EAAhC;AAAoC,IAAA,KAAK,EAAE;AAA3C,IADJ,CAXJ,CADO,GAgBP,IAjBR,EAkBKO,eAAe,IACZ,oBAAC,WAAD,eACQI,mBADR;AAEI,kBAAYV,IAAI,CAACc,aAAL,CAAmB9B,QAAQ,CAAC+B,mBAA5B,CAFhB;AAGI,IAAA,SAAS,EAAC,0BAHd;AAII,IAAA,OAAO,EAAET,eAJb;AAKI,IAAA,IAAI,EAAC;AALT,MAOI,oBAAC,mBAAD,OAPJ,CAnBR,CADJ,EA+BI,oBAAC,uBAAD;AACI,IAAA,WAAW,EAAET,eADjB;AAEI,IAAA,SAAS,EAAC,uBAFd;AAGI,IAAA,QAAQ,EAAEe,UAHd;AAII,IAAA,KAAK,EAAE,oBAAC,gBAAD,EAAsB5B,QAAQ,CAACgC,eAA/B,CAJX;AAKI,IAAA,aAAa,EAAEX,aALnB;AAMI,IAAA,IAAI,EAAC,KANT;AAOI,IAAA,KAAK,EAAEM;AAPX,IA/BJ,EAwCI,oBAAC,gBAAD;AACI,IAAA,uBAAuB,EAAErB,uBAD7B;AAEI,IAAA,WAAW,EAAEC,WAFjB;AAGI,IAAA,qBAAqB,EAAEC,qBAH3B;AAII,IAAA,mBAAmB,EAAEC,mBAJzB;AAKI,IAAA,aAAa,EAAEC,aALnB;AAMI,IAAA,iBAAiB,EAAEC,iBANvB;AAOI,IAAA,qBAAqB,EAAEC,qBAP3B;AAQI,IAAA,cAAc,EAAEE,cARpB;AASI,IAAA,iBAAiB,EAAEG,iBATvB;AAUI,IAAA,aAAa,EAAEC,aAVnB;AAWI,IAAA,gBAAgB,EAAEC,gBAXtB;AAYI,IAAA,QAAQ,EAAEC,QAZd;AAaI,IAAA,eAAe,EAAEG,eAbrB;AAcI,IAAA,UAAU,EAAEC,UAdhB;AAeI,IAAA,qBAAqB,EAAEC,qBAf3B;AAgBI,IAAA,UAAU,EAAEG;AAhBhB,IAxCJ,CADJ;AA6DH,CAxFD;;AA0FA,SAASxB,UAAU,IAAI6B,cAAvB;AACA,eAAezC,UAAU,CAACY,UAAD,CAAzB","sourcesContent":["/* @flow */\nimport React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport type { InjectIntlProvidedProps } from 'react-intl';\n\nimport TextInputWithCopyButton from '../../components/text-input-with-copy-button';\nimport Tooltip from '../../components/tooltip';\nimport PlainButton from '../../components/plain-button';\nimport { convertToMs } from '../../utils/datetime';\nimport IconExpirationInverted from '../../icons/general/IconExpirationInverted';\nimport IconSettingInverted from '../../icons/general/IconSettingInverted';\n\nimport SharedLinkAccess from './SharedLinkAccess';\nimport messages from './messages';\nimport { accessLevelPropType, allowedAccessLevelsPropType, permissionLevelPropType } from './propTypes';\n\nimport './SharedLink.scss';\n\ntype Props = {\n    accessDropdownMenuProps?: Object,\n    accessLevel?: accessLevelPropType,\n    accessMenuButtonProps?: Object,\n    allowedAccessLevels?: allowedAccessLevelsPropType,\n    canRemoveLink?: boolean,\n    changeAccessLevel: Function,\n    changePermissionLevel?: Function,\n    copyButtonProps?: Object,\n    enterpriseName?: string,\n    expiration?: number,\n    isDownloadAllowed?: boolean,\n    isEditAllowed?: boolean,\n    isPreviewAllowed?: boolean,\n    itemType: string,\n    onCopySuccess?: Function,\n    onSettingsClick?: Function,\n    permissionLevel?: permissionLevelPropType,\n    removeLink: Function,\n    removeLinkButtonProps?: Object,\n    settingsButtonProps?: Object,\n    sharedLink: string,\n    submitting?: boolean,\n} & InjectIntlProvidedProps;\n\nconst SharedLink = (props: Props) => {\n    const {\n        accessDropdownMenuProps,\n        accessLevel,\n        accessMenuButtonProps,\n        allowedAccessLevels,\n        canRemoveLink,\n        changeAccessLevel,\n        changePermissionLevel,\n        copyButtonProps,\n        enterpriseName,\n        expiration,\n        intl,\n        isDownloadAllowed,\n        isEditAllowed,\n        isPreviewAllowed,\n        itemType,\n        onCopySuccess,\n        onSettingsClick,\n        permissionLevel,\n        removeLink,\n        removeLinkButtonProps,\n        settingsButtonProps = {},\n        sharedLink,\n        submitting,\n    } = props;\n\n    return (\n        <div className=\"shared-link\">\n            <div className=\"shared-link-icons\">\n                {expiration ? (\n                    <Tooltip\n                        position=\"middle-left\"\n                        text={\n                            <FormattedMessage\n                                {...messages.sharedLinkExpirationTooltip}\n                                values={{\n                                    expiration: convertToMs(expiration),\n                                }}\n                            />\n                        }\n                    >\n                        <span className=\"shared-link-expiration\">\n                            <IconExpirationInverted height={16} width={16} />\n                        </span>\n                    </Tooltip>\n                ) : null}\n                {onSettingsClick && (\n                    <PlainButton\n                        {...settingsButtonProps}\n                        aria-label={intl.formatMessage(messages.settingsButtonLabel)}\n                        className=\"shared-link-settings-btn\"\n                        onClick={onSettingsClick}\n                        type=\"button\"\n                    >\n                        <IconSettingInverted />\n                    </PlainButton>\n                )}\n            </div>\n            <TextInputWithCopyButton\n                buttonProps={copyButtonProps}\n                className=\"shared-link-container\"\n                disabled={submitting}\n                label={<FormattedMessage {...messages.sharedLinkLabel} />}\n                onCopySuccess={onCopySuccess}\n                type=\"url\"\n                value={sharedLink}\n            />\n            <SharedLinkAccess\n                accessDropdownMenuProps={accessDropdownMenuProps}\n                accessLevel={accessLevel}\n                accessMenuButtonProps={accessMenuButtonProps}\n                allowedAccessLevels={allowedAccessLevels}\n                canRemoveLink={canRemoveLink}\n                changeAccessLevel={changeAccessLevel}\n                changePermissionLevel={changePermissionLevel}\n                enterpriseName={enterpriseName}\n                isDownloadAllowed={isDownloadAllowed}\n                isEditAllowed={isEditAllowed}\n                isPreviewAllowed={isPreviewAllowed}\n                itemType={itemType}\n                permissionLevel={permissionLevel}\n                removeLink={removeLink}\n                removeLinkButtonProps={removeLinkButtonProps}\n                submitting={submitting}\n            />\n        </div>\n    );\n};\n\nexport { SharedLink as SharedLinkBase };\nexport default injectIntl(SharedLink);\n"],"file":"SharedLink.js"}