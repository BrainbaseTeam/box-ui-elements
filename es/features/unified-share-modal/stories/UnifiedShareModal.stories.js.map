{"version":3,"sources":["../../../../src/features/unified-share-modal/stories/UnifiedShareModal.stories.js"],"names":["React","IntlProvider","State","Store","Button","UnifiedShareModal","notes","constants","DEFAULT_SHARED_LINK_STATE","accessLevel","allowedAccessLevels","canChangeAccessLevel","enterpriseName","expirationTimestamp","isDownloadSettingAvailable","isNewSharedLink","permissionLevel","url","INITIAL_STATE","isConfirmModalOpen","isOpen","item","bannerPolicy","body","canUserSeeClassification","classification","grantedPermissions","itemShare","hideCollaborators","id","name","type","typedID","collaboratorsList","collaborators","selectorOptions","sharedLink","submitting","contacts","collabID","email","hasCustomAvatar","translatedRole","userID","profileURL","isExternalUser","createComponentStore","basic","componentStore","closeModal","set","fakeRequest","Promise","resolve","setTimeout","getInitialData","initialPromise","fetchCollaborators","resolved","slice","map","contact","collaborator","COLLAB_USER_TYPE","COLLAB_GROUP_TYPE","isExternalCollab","parseInt","expiration","executeAt","imageURL","all","state","newLevel","then","default","text","value","peopleWithTheLink","peopleInYourCompany","peopleInThisItem","alert","userScore","collaboratorListTracking","inviteCollabsEmailTracking","inviteCollabTracking","modalTracking","removeLinkConfirmModalTracking","sharedLinkEmailTracking","sharedLinkTracking","withSharedLink","resolveSharedLink","withAutofocusedSharedLink","withFormOnly","console","log","title","component","parameters"],"mappings":"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","sourcesContent":["// @flow\n/* eslint-disable no-console */\nimport * as React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { State, Store } from '@sambego/storybook-state';\n\nimport Button from '../../../components/button/Button';\n\nimport UnifiedShareModal from '../UnifiedShareModal';\nimport notes from './UnifiedShareModal.stories.md';\nimport type { contactType, collaboratorType } from '../flowTypes';\nimport * as constants from '../constants';\n\n// Base Example. Extend for different initial loads or to demonstrate different interactions\nconst DEFAULT_SHARED_LINK_STATE = {\n    accessLevel: '',\n    allowedAccessLevels: {},\n    canChangeAccessLevel: true,\n    enterpriseName: '',\n    expirationTimestamp: null,\n    isDownloadSettingAvailable: true,\n    isNewSharedLink: false,\n    permissionLevel: '',\n    url: '',\n};\n\nconst INITIAL_STATE = {\n    isConfirmModalOpen: false,\n    isOpen: false,\n    item: {\n        bannerPolicy: {\n            body: 'test',\n        },\n        canUserSeeClassification: true,\n        classification: 'internal',\n        grantedPermissions: {\n            itemShare: true,\n        },\n        hideCollaborators: false,\n        id: 12345,\n        name: 'My Example Folder',\n        type: 'folder',\n        typedID: 'd_12345',\n    },\n    collaboratorsList: {\n        collaborators: [],\n    },\n    selectorOptions: [],\n    sharedLink: DEFAULT_SHARED_LINK_STATE,\n    submitting: false,\n};\n\nconst contacts: Array<contactType> = [\n    {\n        id: '0',\n        collabID: 0,\n        name: 'Jackie',\n        email: 'j@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Owner',\n        userID: '0',\n        profileURL: 'https://foo.bar',\n    },\n    {\n        id: '1',\n        collabID: '1',\n        name: 'Jeff',\n        email: 'jt@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Viewer',\n        userID: '1',\n    },\n    {\n        id: '2',\n        collabID: '2',\n        name: 'David',\n        email: 'dt@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '2',\n    },\n    {\n        id: '3',\n        collabID: '3',\n        name: 'Yang',\n        email: 'yz@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '3',\n    },\n    {\n        id: '4',\n        collabID: '4',\n        name: 'Yong',\n        email: 'ysu@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '4',\n    },\n    {\n        id: '5',\n        collabID: '5',\n        name: 'Will',\n        email: 'wy@example.com',\n        type: 'pending',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '5',\n    },\n    {\n        id: '6',\n        collabID: '6',\n        name: 'Dave',\n        email: 'd@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '6',\n    },\n    {\n        id: '7',\n        collabID: '7',\n        name: 'Ke',\n        email: 'k@example.com',\n        isExternalUser: true,\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '7',\n    },\n    {\n        id: '8',\n        collabID: '8',\n        name: 'Wenbo',\n        email: 'w@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '8',\n    },\n    {\n        id: '11',\n        collabID: '11',\n        name: 'Supersupersupersuperreallyreallyreallylongfirstname incrediblyspectacularlylonglastname',\n        email: 'Supersupersupersuperreallyreallyreallyincrediblyspectacularlylongemail@example.com',\n        type: 'user',\n        hasCustomAvatar: false,\n        translatedRole: 'Editor',\n        userID: '11',\n    },\n    {\n        /* example group contact */\n        id: '14',\n        collabID: '14',\n        type: 'group',\n        name: 'my group',\n        hasCustomAvatar: false,\n        translatedRole: 'Viewer',\n        userID: null,\n    },\n];\n\nconst createComponentStore = () => new Store(INITIAL_STATE);\n\nexport const basic = () => {\n    const componentStore = createComponentStore();\n\n    const closeModal = () => {\n        componentStore.set({\n            isOpen: false,\n            sharedLink: DEFAULT_SHARED_LINK_STATE,\n            collaboratorsList: {\n                collaborators: [],\n            },\n        });\n    };\n\n    const fakeRequest = () => {\n        // submitting is used to disable input fields, and not to show the loading indicator\n        componentStore.set({ submitting: true });\n        return new Promise(resolve => {\n            setTimeout(() => {\n                componentStore.set({ submitting: false });\n                resolve();\n            }, 500);\n        });\n    };\n\n    const getInitialData = () => {\n        const initialPromise = fakeRequest();\n        const fetchCollaborators = new Promise(resolved => {\n            setTimeout(() => {\n                const collaborators: Array<collaboratorType> = contacts.slice().map(contact => {\n                    // convert the existing contact entries to compatible collaborator entries in this example\n                    const collaborator: collaboratorType = {\n                        collabID: 1234,\n                        id: contact.id,\n                        name: contact.name || '',\n                        type: contact.type !== 'group' ? constants.COLLAB_USER_TYPE : constants.COLLAB_GROUP_TYPE,\n                        isExternalCollab: contact.isExternalUser || false,\n                        userID: parseInt(contact.id, 10),\n                        expiration: { executeAt: contact.isExternalUser ? 'November 27, 2022' : '' },\n                        hasCustomAvatar: false,\n                        imageURL: null,\n                    };\n\n                    return collaborator;\n                });\n\n                const collaboratorsList = {\n                    collaborators,\n                };\n                componentStore.set({ collaboratorsList });\n                resolved();\n            }, 1000);\n        });\n        return Promise.all([initialPromise, fetchCollaborators]);\n    };\n\n    return (\n        <State store={componentStore}>\n            {state => (\n                <IntlProvider locale=\"en\">\n                    <div>\n                        {state.isOpen && (\n                            <UnifiedShareModal\n                                canInvite\n                                changeSharedLinkAccessLevel={newLevel => {\n                                    return fakeRequest().then(() => {\n                                        return componentStore.set({\n                                            sharedLink: {\n                                                ...state.sharedLink,\n                                                accessLevel: newLevel,\n                                            },\n                                        });\n                                    });\n                                }}\n                                changeSharedLinkPermissionLevel={newLevel => {\n                                    return fakeRequest().then(() => {\n                                        return componentStore.set({\n                                            sharedLink: {\n                                                ...state.sharedLink,\n                                                permissionLevel: newLevel,\n                                            },\n                                        });\n                                    });\n                                }}\n                                collaboratorsList={state.collaboratorsList}\n                                collaborationRestrictionWarning=\"Collaboration invitations can only be sent to people within Box Corporate\"\n                                currentUserID=\"0\"\n                                getCollaboratorContacts={() => {\n                                    return Promise.resolve(contacts);\n                                }}\n                                getSharedLinkContacts={() => {\n                                    return Promise.resolve(contacts);\n                                }}\n                                getInitialData={getInitialData}\n                                inviteePermissions={[\n                                    { default: false, text: 'Co-owner', value: 'Co-owner' },\n                                    { default: true, text: 'Editor', value: 'Editor' },\n                                    { default: false, text: 'Viewer Uploader', value: 'Viewer Uploader' },\n                                    { default: false, text: 'Previewer Uploader', value: 'Previewer Uploader' },\n                                    { default: false, text: 'Viewer', value: 'Viewer' },\n                                    { default: false, text: 'Previewer', value: 'Previewer' },\n                                    { default: false, text: 'Uploader', value: 'Uploader' },\n                                ]}\n                                isOpen={state.isOpen}\n                                isToggleEnabled\n                                item={state.item}\n                                onAddLink={() => {\n                                    fakeRequest().then(() => {\n                                        componentStore.set({\n                                            sharedLink: {\n                                                accessLevel: 'peopleInYourCompany',\n                                                allowedAccessLevels: {\n                                                    peopleWithTheLink: true,\n                                                    peopleInYourCompany: true,\n                                                    peopleInThisItem: true,\n                                                },\n                                                canChangeAccessLevel: true,\n                                                enterpriseName: 'Box',\n                                                expirationTimestamp: 1509173940,\n                                                isDownloadSettingAvailable: true,\n                                                isNewSharedLink: true,\n                                                permissionLevel: 'canViewDownload',\n                                                url: 'https://box.com/s/abcdefg',\n                                            },\n                                        });\n                                    });\n                                }}\n                                onRemoveLink={() => {\n                                    fakeRequest().then(() => {\n                                        componentStore.set({\n                                            sharedLink: DEFAULT_SHARED_LINK_STATE,\n                                        });\n                                        closeModal();\n                                    });\n                                }}\n                                onRequestClose={closeModal}\n                                /* eslint-disable-next-line no-alert */\n                                onSettingsClick={() => alert('hi!')}\n                                recommendedSharingTooltipCalloutName=\"\"\n                                sendInvites={() =>\n                                    fakeRequest().then(() => {\n                                        closeModal();\n                                    })\n                                }\n                                sendInvitesError=\"\"\n                                sendSharedLink={() =>\n                                    fakeRequest().then(() => {\n                                        closeModal();\n                                    })\n                                }\n                                sendSharedLinkError=\"\"\n                                sharedLink={state.sharedLink}\n                                showCalloutForUser\n                                showUpgradeOptions\n                                submitting={state.submitting}\n                                suggestedCollaborators={{\n                                    '2': {\n                                        id: '2',\n                                        userScore: 0.1,\n                                        name: 'David',\n                                        email: 'dt@example.com',\n                                        type: 'user',\n                                    },\n                                    '5': {\n                                        id: '5',\n                                        userScore: 0.2,\n                                        name: 'Will',\n                                        email: 'wy@example.com',\n                                        type: 'user',\n                                    },\n                                    '1': {\n                                        id: '1',\n                                        userScore: 0.5,\n                                        name: 'Jeff',\n                                        email: 'jt@example.com',\n                                        type: 'user',\n                                    },\n                                    '3': { id: '3', userScore: 2, name: 'Yang', email: 'yz@example.com', type: 'user' },\n                                }}\n                                trackingProps={{\n                                    collaboratorListTracking: {},\n                                    inviteCollabsEmailTracking: {},\n                                    inviteCollabTracking: {},\n                                    modalTracking: {},\n                                    removeLinkConfirmModalTracking: {},\n                                    sharedLinkEmailTracking: {},\n                                    sharedLinkTracking: {},\n                                }}\n                            />\n                        )}\n                        <Button\n                            onClick={() =>\n                                componentStore.set({\n                                    isOpen: true,\n                                })\n                            }\n                        >\n                            Open USM Modal\n                        </Button>\n                    </div>\n                </IntlProvider>\n            )}\n        </State>\n    );\n};\n\nexport const withSharedLink = () => {\n    const componentStore = createComponentStore();\n\n    const closeModal = () => {\n        componentStore.set({\n            isOpen: false,\n            sharedLink: DEFAULT_SHARED_LINK_STATE,\n            collaboratorsList: {\n                collaborators: [],\n            },\n        });\n    };\n\n    const fakeRequest = () => {\n        // submitting is used to disable input fields, and not to show the loading indicator\n        componentStore.set({ submitting: true });\n        return new Promise(resolve => {\n            setTimeout(() => {\n                componentStore.set({ submitting: false });\n                resolve();\n            }, 500);\n        });\n    };\n\n    const getInitialData = () => {\n        const resolveSharedLink = new Promise(resolved => {\n            setTimeout(() => {\n                componentStore.set({\n                    sharedLink: {\n                        accessLevel: 'peopleInYourCompany',\n                        allowedAccessLevels: {\n                            peopleWithTheLink: true,\n                            peopleInYourCompany: true,\n                            peopleInThisItem: true,\n                        },\n                        canChangeAccessLevel: true,\n                        enterpriseName: 'Box',\n                        expirationTimestamp: 1509173940,\n                        isDownloadSettingAvailable: true,\n                        permissionLevel: 'canViewDownload',\n                        url: 'https://box.com/s/abcdefg',\n                    },\n                });\n                resolved();\n            }, 400);\n        });\n\n        return Promise.all([fakeRequest, resolveSharedLink]);\n    };\n\n    return (\n        <State store={componentStore}>\n            {state => (\n                <IntlProvider locale=\"en\">\n                    <div>\n                        {state.isOpen && (\n                            <UnifiedShareModal\n                                canInvite\n                                changeSharedLinkAccessLevel={newLevel => {\n                                    return fakeRequest().then(() => {\n                                        return componentStore.set({\n                                            sharedLink: {\n                                                ...state.sharedLink,\n                                                accessLevel: newLevel,\n                                            },\n                                        });\n                                    });\n                                }}\n                                changeSharedLinkPermissionLevel={newLevel => {\n                                    return fakeRequest().then(() => {\n                                        return componentStore.set({\n                                            sharedLink: {\n                                                ...state.sharedLink,\n                                                permissionLevel: newLevel,\n                                            },\n                                        });\n                                    });\n                                }}\n                                collaboratorsList={state.collaboratorsList}\n                                collaborationRestrictionWarning=\"Collaboration invitations can only be sent to people within Box Corporate\"\n                                currentUserID=\"0\"\n                                focusSharedLinkOnLoad={false}\n                                getCollaboratorContacts={() => {\n                                    return Promise.resolve(contacts);\n                                }}\n                                getSharedLinkContacts={() => {\n                                    return Promise.resolve(contacts);\n                                }}\n                                getInitialData={getInitialData}\n                                inviteePermissions={[\n                                    { default: false, text: 'Co-owner', value: 'Co-owner' },\n                                    { default: true, text: 'Editor', value: 'Editor' },\n                                    { default: false, text: 'Viewer Uploader', value: 'Viewer Uploader' },\n                                    { default: false, text: 'Previewer Uploader', value: 'Previewer Uploader' },\n                                    { default: false, text: 'Viewer', value: 'Viewer' },\n                                    { default: false, text: 'Previewer', value: 'Previewer' },\n                                    { default: false, text: 'Uploader', value: 'Uploader' },\n                                ]}\n                                isOpen={state.isOpen}\n                                isToggleEnabled\n                                item={state.item}\n                                onAddLink={() => {\n                                    fakeRequest().then(() => {\n                                        componentStore.set({\n                                            sharedLink: {\n                                                accessLevel: 'peopleInYourCompany',\n                                                allowedAccessLevels: {\n                                                    peopleWithTheLink: true,\n                                                    peopleInYourCompany: true,\n                                                    peopleInThisItem: true,\n                                                },\n                                                canChangeAccessLevel: true,\n                                                enterpriseName: 'Box',\n                                                expirationTimestamp: 1509173940,\n                                                isDownloadSettingAvailable: true,\n                                                isNewSharedLink: true,\n                                                permissionLevel: 'canViewDownload',\n                                                url: 'https://box.com/s/abcdefg',\n                                            },\n                                        });\n                                    });\n                                }}\n                                onRemoveLink={() => {\n                                    fakeRequest().then(() => {\n                                        componentStore.set({\n                                            sharedLink: DEFAULT_SHARED_LINK_STATE,\n                                        });\n                                        closeModal();\n                                    });\n                                }}\n                                onRequestClose={closeModal}\n                                /* eslint-disable-next-line no-alert */\n                                onSettingsClick={() => alert('hi!')}\n                                recommendedSharingTooltipCalloutName=\"\"\n                                sendInvites={() =>\n                                    fakeRequest().then(() => {\n                                        closeModal();\n                                    })\n                                }\n                                sendInvitesError=\"\"\n                                sendSharedLink={() =>\n                                    fakeRequest().then(() => {\n                                        closeModal();\n                                    })\n                                }\n                                sendSharedLinkError=\"\"\n                                sharedLink={state.sharedLink}\n                                showCalloutForUser\n                                showUpgradeOptions\n                                submitting={state.submitting}\n                                suggestedCollaborators={{\n                                    '2': {\n                                        id: '2',\n                                        userScore: 0.1,\n                                        name: 'David',\n                                        email: 'dt@example.com',\n                                        type: 'user',\n                                    },\n                                    '5': {\n                                        id: '5',\n                                        userScore: 0.2,\n                                        name: 'Will',\n                                        email: 'wy@example.com',\n                                        type: 'user',\n                                    },\n                                    '1': {\n                                        id: '1',\n                                        userScore: 0.5,\n                                        name: 'Jeff',\n                                        email: 'jt@example.com',\n                                        type: 'user',\n                                    },\n                                    '3': { id: '3', userScore: 2, name: 'Yang', email: 'yz@example.com', type: 'user' },\n                                }}\n                                trackingProps={{\n                                    collaboratorListTracking: {},\n                                    inviteCollabsEmailTracking: {},\n                                    inviteCollabTracking: {},\n                                    modalTracking: {},\n                                    removeLinkConfirmModalTracking: {},\n                                    sharedLinkEmailTracking: {},\n                                    sharedLinkTracking: {},\n                                }}\n                            />\n                        )}\n                        <Button\n                            onClick={() =>\n                                componentStore.set({\n                                    isOpen: true,\n                                })\n                            }\n                        >\n                            Open USM Modal\n                        </Button>\n                    </div>\n                </IntlProvider>\n            )}\n        </State>\n    );\n};\n\nexport const withAutofocusedSharedLink = () => {\n    const componentStore = createComponentStore();\n\n    const closeModal = () => {\n        componentStore.set({\n            isOpen: false,\n            sharedLink: DEFAULT_SHARED_LINK_STATE,\n            collaboratorsList: {\n                collaborators: [],\n            },\n        });\n    };\n\n    const fakeRequest = () => {\n        // submitting is used to disable input fields, and not to show the loading indicator\n        componentStore.set({ submitting: true });\n        return new Promise(resolve => {\n            setTimeout(() => {\n                componentStore.set({ submitting: false });\n                resolve();\n            }, 500);\n        });\n    };\n\n    const getInitialData = () => {\n        const resolveSharedLink = new Promise(resolved => {\n            setTimeout(() => {\n                componentStore.set({\n                    sharedLink: {\n                        accessLevel: 'peopleInYourCompany',\n                        allowedAccessLevels: {\n                            peopleWithTheLink: true,\n                            peopleInYourCompany: true,\n                            peopleInThisItem: true,\n                        },\n                        canChangeAccessLevel: true,\n                        enterpriseName: 'Box',\n                        expirationTimestamp: 1509173940,\n                        isDownloadSettingAvailable: true,\n                        permissionLevel: 'canViewDownload',\n                        url: 'https://box.com/s/abcdefg',\n                    },\n                });\n                resolved();\n            }, 400);\n        });\n\n        return Promise.all([fakeRequest, resolveSharedLink]);\n    };\n\n    return (\n        <State store={componentStore}>\n            {state => (\n                <IntlProvider locale=\"en\">\n                    <div>\n                        {state.isOpen && (\n                            <UnifiedShareModal\n                                canInvite\n                                changeSharedLinkAccessLevel={newLevel => {\n                                    return fakeRequest().then(() => {\n                                        return componentStore.set({\n                                            sharedLink: {\n                                                ...state.sharedLink,\n                                                accessLevel: newLevel,\n                                            },\n                                        });\n                                    });\n                                }}\n                                changeSharedLinkPermissionLevel={newLevel => {\n                                    return fakeRequest().then(() => {\n                                        return componentStore.set({\n                                            sharedLink: {\n                                                ...state.sharedLink,\n                                                permissionLevel: newLevel,\n                                            },\n                                        });\n                                    });\n                                }}\n                                collaboratorsList={state.collaboratorsList}\n                                collaborationRestrictionWarning=\"Collaboration invitations can only be sent to people within Box Corporate\"\n                                currentUserID=\"0\"\n                                focusSharedLinkOnLoad\n                                getCollaboratorContacts={() => {\n                                    return Promise.resolve(contacts);\n                                }}\n                                getSharedLinkContacts={() => {\n                                    return Promise.resolve(contacts);\n                                }}\n                                getInitialData={getInitialData}\n                                inviteePermissions={[\n                                    { default: false, text: 'Co-owner', value: 'Co-owner' },\n                                    { default: true, text: 'Editor', value: 'Editor' },\n                                    { default: false, text: 'Viewer Uploader', value: 'Viewer Uploader' },\n                                    { default: false, text: 'Previewer Uploader', value: 'Previewer Uploader' },\n                                    { default: false, text: 'Viewer', value: 'Viewer' },\n                                    { default: false, text: 'Previewer', value: 'Previewer' },\n                                    { default: false, text: 'Uploader', value: 'Uploader' },\n                                ]}\n                                isOpen={state.isOpen}\n                                isToggleEnabled\n                                item={state.item}\n                                onAddLink={() => {\n                                    fakeRequest().then(() => {\n                                        componentStore.set({\n                                            sharedLink: {\n                                                accessLevel: 'peopleInYourCompany',\n                                                allowedAccessLevels: {\n                                                    peopleWithTheLink: true,\n                                                    peopleInYourCompany: true,\n                                                    peopleInThisItem: true,\n                                                },\n                                                canChangeAccessLevel: true,\n                                                enterpriseName: 'Box',\n                                                expirationTimestamp: 1509173940,\n                                                isDownloadSettingAvailable: true,\n                                                isNewSharedLink: true,\n                                                permissionLevel: 'canViewDownload',\n                                                url: 'https://box.com/s/abcdefg',\n                                            },\n                                        });\n                                    });\n                                }}\n                                onRemoveLink={() => {\n                                    fakeRequest().then(() => {\n                                        componentStore.set({\n                                            sharedLink: DEFAULT_SHARED_LINK_STATE,\n                                        });\n                                        closeModal();\n                                    });\n                                }}\n                                onRequestClose={closeModal}\n                                /* eslint-disable-next-line no-alert */\n                                onSettingsClick={() => alert('hi!')}\n                                recommendedSharingTooltipCalloutName=\"\"\n                                sendInvites={() =>\n                                    fakeRequest().then(() => {\n                                        closeModal();\n                                    })\n                                }\n                                sendInvitesError=\"\"\n                                sendSharedLink={() =>\n                                    fakeRequest().then(() => {\n                                        closeModal();\n                                    })\n                                }\n                                sendSharedLinkError=\"\"\n                                sharedLink={state.sharedLink}\n                                showCalloutForUser\n                                showUpgradeOptions\n                                submitting={state.submitting}\n                                suggestedCollaborators={{\n                                    '2': {\n                                        id: '2',\n                                        userScore: 0.1,\n                                        name: 'David',\n                                        email: 'dt@example.com',\n                                        type: 'user',\n                                    },\n                                    '5': {\n                                        id: '5',\n                                        userScore: 0.2,\n                                        name: 'Will',\n                                        email: 'wy@example.com',\n                                        type: 'user',\n                                    },\n                                    '1': {\n                                        id: '1',\n                                        userScore: 0.5,\n                                        name: 'Jeff',\n                                        email: 'jt@example.com',\n                                        type: 'user',\n                                    },\n                                    '3': { id: '3', userScore: 2, name: 'Yang', email: 'yz@example.com', type: 'user' },\n                                }}\n                                trackingProps={{\n                                    collaboratorListTracking: {},\n                                    inviteCollabsEmailTracking: {},\n                                    inviteCollabTracking: {},\n                                    modalTracking: {},\n                                    removeLinkConfirmModalTracking: {},\n                                    sharedLinkEmailTracking: {},\n                                    sharedLinkTracking: {},\n                                }}\n                            />\n                        )}\n                        <Button\n                            onClick={() =>\n                                componentStore.set({\n                                    isOpen: true,\n                                })\n                            }\n                        >\n                            Open USM Modal\n                        </Button>\n                    </div>\n                </IntlProvider>\n            )}\n        </State>\n    );\n};\n\nexport const withFormOnly = () => {\n    const componentStore = createComponentStore();\n    const fakeRequest = () => {\n        // submitting is used to disable input fields, and not to show the loading indicator\n        componentStore.set({ submitting: true });\n        return new Promise(resolve => {\n            setTimeout(() => {\n                componentStore.set({ submitting: false });\n                resolve();\n            }, 500);\n        });\n    };\n\n    const getInitialData = () => {\n        const initialPromise = fakeRequest();\n        const fetchCollaborators = new Promise(resolved => {\n            setTimeout(() => {\n                const collaborators = contacts.slice();\n\n                const collaboratorsList = {\n                    collaborators,\n                };\n                componentStore.set({ collaboratorsList });\n                resolved();\n            }, 1000);\n        });\n        return Promise.all([initialPromise, fetchCollaborators]);\n    };\n\n    return (\n        <State store={componentStore}>\n            {state => (\n                <IntlProvider locale=\"en\">\n                    <UnifiedShareModal\n                        canInvite\n                        changeSharedLinkAccessLevel={newLevel => {\n                            return fakeRequest().then(() => {\n                                return componentStore.set({\n                                    sharedLink: {\n                                        ...state.sharedLink,\n                                        accessLevel: newLevel,\n                                    },\n                                });\n                            });\n                        }}\n                        changeSharedLinkPermissionLevel={newLevel => {\n                            return fakeRequest().then(() => {\n                                return componentStore.set({\n                                    sharedLink: {\n                                        ...state.sharedLink,\n                                        permissionLevel: newLevel,\n                                    },\n                                });\n                            });\n                        }}\n                        collaboratorsList={state.collaboratorsList}\n                        collaborationRestrictionWarning=\"Collaboration invitations can only be sent to people within Box Corporate\"\n                        currentUserID=\"0\"\n                        displayInModal={false}\n                        getCollaboratorContacts={() => {\n                            return Promise.resolve(contacts);\n                        }}\n                        getSharedLinkContacts={() => {\n                            return Promise.resolve(contacts);\n                        }}\n                        getInitialData={getInitialData}\n                        inviteePermissions={[\n                            { default: false, text: 'Co-owner', value: 'Co-owner' },\n                            { default: true, text: 'Editor', value: 'Editor' },\n                            { default: false, text: 'Viewer Uploader', value: 'Viewer Uploader' },\n                            { default: false, text: 'Previewer Uploader', value: 'Previewer Uploader' },\n                            { default: false, text: 'Viewer', value: 'Viewer' },\n                            { default: false, text: 'Previewer', value: 'Previewer' },\n                            { default: false, text: 'Uploader', value: 'Uploader' },\n                        ]}\n                        isOpen={state.isOpen}\n                        isToggleEnabled\n                        item={state.item}\n                        onAddLink={() => {\n                            fakeRequest().then(() => {\n                                componentStore.set({\n                                    sharedLink: {\n                                        accessLevel: 'peopleInYourCompany',\n                                        allowedAccessLevels: {\n                                            peopleWithTheLink: true,\n                                            peopleInYourCompany: true,\n                                            peopleInThisItem: true,\n                                        },\n                                        canChangeAccessLevel: true,\n                                        enterpriseName: 'Box',\n                                        expirationTimestamp: 1509173940,\n                                        isDownloadSettingAvailable: true,\n                                        isNewSharedLink: true,\n                                        permissionLevel: 'canViewDownload',\n                                        url: 'https://box.com/s/abcdefg',\n                                    },\n                                });\n                            });\n                        }}\n                        onRemoveLink={() => {\n                            fakeRequest().then(() => {\n                                componentStore.set({\n                                    sharedLink: DEFAULT_SHARED_LINK_STATE,\n                                });\n                                console.log('removed link');\n                            });\n                        }}\n                        /* eslint-disable-next-line no-alert */\n                        onSettingsClick={() => alert('hi!')}\n                        recommendedSharingTooltipCalloutName=\"\"\n                        sendInvites={() =>\n                            fakeRequest().then(() => {\n                                console.log('sent invites');\n                            })\n                        }\n                        sendInvitesError=\"\"\n                        sendSharedLink={() =>\n                            fakeRequest().then(() => {\n                                console.log('sent shared link');\n                            })\n                        }\n                        sendSharedLinkError=\"\"\n                        sharedLink={state.sharedLink}\n                        showCalloutForUser\n                        showFormOnly\n                        showUpgradeOptions\n                        submitting={state.submitting}\n                        suggestedCollaborators={{\n                            '2': {\n                                id: '2',\n                                userScore: 0.1,\n                                name: 'David',\n                                email: 'dt@example.com',\n                                type: 'user',\n                            },\n                            '5': {\n                                id: '5',\n                                userScore: 0.2,\n                                name: 'Will',\n                                email: 'wy@example.com',\n                                type: 'user',\n                            },\n                            '1': {\n                                id: '1',\n                                userScore: 0.5,\n                                name: 'Jeff',\n                                email: 'jt@example.com',\n                                type: 'user',\n                            },\n                            '3': { id: '3', userScore: 2, name: 'Yang', email: 'yz@example.com', type: 'user' },\n                        }}\n                        trackingProps={{\n                            collaboratorListTracking: {},\n                            inviteCollabsEmailTracking: {},\n                            inviteCollabTracking: {},\n                            modalTracking: {},\n                            removeLinkConfirmModalTracking: {},\n                            sharedLinkEmailTracking: {},\n                            sharedLinkTracking: {},\n                        }}\n                    />\n                </IntlProvider>\n            )}\n        </State>\n    );\n};\n\nexport default {\n    title: 'Features|UnifiedShareModal',\n    component: UnifiedShareModal,\n    parameters: {\n        notes,\n    },\n};\n"],"file":"UnifiedShareModal.stories.js"}