{"version":3,"sources":["../../../../src/features/unified-share-modal/utils/mergeContacts.js"],"names":["mergeContacts","existingContacts","fetchedContacts","contactsMap","Object","keys","reduce","map","email","contact","text","name","value","id","String","isExternalUser","type"],"mappings":";;;;;;AAIA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,gBAAD,EAAmCC,eAAnC,EAA+E;AACjG,MAAMC,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYH,eAAZ,EAA6BI,MAA7B,CAAoC,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACpE,QAAMC,OAAO,GAAGP,eAAe,CAACM,KAAD,CAA/B;AACAD,IAAAA,GAAG,CAACC,KAAD,CAAH,qBAAkBC,OAAlB;AAA2BC,MAAAA,IAAI,EAAED,OAAO,CAACE,IAAzC;AAA+CC,MAAAA,KAAK,EAAEH,OAAO,CAACD,KAAR,IAAiBC,OAAO,CAACI;AAA/E;AACA,WAAON,GAAP;AACH,GAJmB,EAIjB,EAJiB,CAApB;AAMA,SAAON,gBAAgB,CAACM,GAAjB,CAAqB,UAAAE,OAAO,EAAI;AACnC,QAAIA,OAAO,CAACI,EAAZ,EAAgB;AACZ,aAAOJ,OAAP;AACH;;AACD,WACKA,OAAO,CAACG,KAAR,IAAiBT,WAAW,CAACM,OAAO,CAACG,KAAT,CAA7B,IAAiD;AAC7CJ,MAAAA,KAAK,EAAEM,MAAM,CAACL,OAAO,CAACG,KAAT,CADgC;AAE7CC,MAAAA,EAAE,EAAEC,MAAM,CAACL,OAAO,CAACG,KAAT,CAFmC;AAG7CG,MAAAA,cAAc,EAAE,IAH6B;AAI7CL,MAAAA,IAAI,EAAEI,MAAM,CAACL,OAAO,CAACG,KAAT,CAJiC;AAK7CI,MAAAA,IAAI,EAAE,MALuC;AAM7CJ,MAAAA,KAAK,EAAEH,OAAO,CAACG;AAN8B,KADrD;AAUH,GAdM,CAAP;AAeH,CAtBD;;AAwBA,eAAeZ,aAAf","sourcesContent":["// @flow\n\nimport type { contactType as Contact } from '../flowTypes';\n\nconst mergeContacts = (existingContacts: Array<Contact>, fetchedContacts: Object): Array<Contact> => {\n    const contactsMap = Object.keys(fetchedContacts).reduce((map, email) => {\n        const contact = fetchedContacts[email];\n        map[email] = { ...contact, text: contact.name, value: contact.email || contact.id };\n        return map;\n    }, {});\n\n    return existingContacts.map(contact => {\n        if (contact.id) {\n            return contact;\n        }\n        return (\n            (contact.value && contactsMap[contact.value]) || {\n                email: String(contact.value),\n                id: String(contact.value),\n                isExternalUser: true,\n                text: String(contact.value),\n                type: 'user',\n                value: contact.value,\n            }\n        );\n    });\n};\n\nexport default mergeContacts;\n"],"file":"mergeContacts.js"}