{"version":3,"sources":["../../../src/features/item-details/EditableDescription.js"],"names":["React","injectIntl","TextareaAutosize","messages","EditableDescription","props","value","state","onDescriptionChange","event","currentTarget","setState","prevValue","intl","textAreaProps","handleBlur","handleChange","formatMessage","descriptionPlaceholder","PureComponent","EditableDescriptionBase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AAEA,OAAOC,QAAP,MAAqB,YAArB;;IAaMC,mB;;;;;AAMF,+BAAYC,KAAZ,EAA0B;AAAA;;AAAA;;AACtB,6FAAMA,KAAN;;AADsB,iEAcb,YAAY;AAAA,UACbC,KADa,GACH,MAAKC,KADF,CACbD,KADa;;AAErB,YAAKD,KAAL,CAAWG,mBAAX,CAA+BF,KAA/B;AACH,KAjByB;;AAAA,mEAmBX,UAACG,KAAD,EAAsD;AAAA,UACzDH,KADyD,GAC/CG,KAAK,CAACC,aADyC,CACzDJ,KADyD;;AAEjE,YAAKK,QAAL,CAAc;AAAEL,QAAAA,KAAK,EAALA;AAAF,OAAd;AACH,KAtByB;;AAEtB,UAAKC,KAAL,GAAa;AACTD,MAAAA,KAAK,EAAED,KAAK,CAACC,KAAN,IAAe;AADb,KAAb;AAFsB;AAKzB;;;;6CAEqD;AAAA,UAA1BM,SAA0B,QAAjCN,KAAiC;AAAA,UAC1CA,KAD0C,GAChC,KAAKD,KAD2B,CAC1CC,KAD0C;;AAElD,UAAIM,SAAS,KAAKN,KAAlB,EAAyB;AACrB,aAAKK,QAAL,CAAc;AAAEL,UAAAA,KAAK,EAALA;AAAF,SAAd;AACH;AACJ;;;6BAYQ;AAAA,wBAC2B,KAAKD,KADhC;AAAA,UACGQ,IADH,eACGA,IADH;AAAA,UACSC,aADT,eACSA,aADT;AAAA,UAEGR,KAFH,GAEa,KAAKC,KAFlB,CAEGD,KAFH;AAIL,aACI,oBAAC,gBAAD,eACQQ,aADR;AAEI,QAAA,SAAS,EAAC,sBAFd;AAGI,QAAA,SAAS,EAAC,KAHd;AAII,QAAA,OAAO,EAAE,CAJb;AAKI,QAAA,MAAM,EAAE,KAAKC,UALjB;AAMI,QAAA,QAAQ,EAAE,KAAKC,YANnB;AAOI,QAAA,WAAW,EAAEH,IAAI,CAACI,aAAL,CAAmBd,QAAQ,CAACe,sBAA5B,CAPjB;AAQI,QAAA,KAAK,EAAEZ;AARX,SADJ;AAYH;;;;EA9C6BN,KAAK,CAACmB,a;;gBAAlCf,mB,kBACoB;AAClBU,EAAAA,aAAa,EAAE,EADG;AAElBR,EAAAA,KAAK,EAAE;AAFW,C;;AAgD1B,SAASF,mBAAmB,IAAIgB,uBAAhC;AACA,eAAenB,UAAU,CAACG,mBAAD,CAAzB","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { injectIntl } from 'react-intl';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nimport messages from './messages';\n\ntype Props = {\n    intl: Object,\n    onDescriptionChange: Function,\n    textAreaProps?: Object,\n    value?: string,\n};\n\ntype State = {\n    value: string,\n};\n\nclass EditableDescription extends React.PureComponent<Props, State> {\n    static defaultProps = {\n        textAreaProps: {},\n        value: '',\n    };\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            value: props.value || '',\n        };\n    }\n\n    componentDidUpdate({ value: prevValue }: Props): void {\n        const { value } = this.props;\n        if (prevValue !== value) {\n            this.setState({ value });\n        }\n    }\n\n    handleBlur = (): void => {\n        const { value } = this.state;\n        this.props.onDescriptionChange(value);\n    };\n\n    handleChange = (event: SyntheticEvent<HTMLTextAreaElement>): void => {\n        const { value } = event.currentTarget;\n        this.setState({ value });\n    };\n\n    render() {\n        const { intl, textAreaProps } = this.props;\n        const { value } = this.state;\n\n        return (\n            <TextareaAutosize\n                {...textAreaProps}\n                className=\"description-textarea\"\n                maxLength=\"255\"\n                maxRows={6}\n                onBlur={this.handleBlur}\n                onChange={this.handleChange}\n                placeholder={intl.formatMessage(messages.descriptionPlaceholder)}\n                value={value}\n            />\n        );\n    }\n}\n\nexport { EditableDescription as EditableDescriptionBase };\nexport default injectIntl(EditableDescription);\n"],"file":"EditableDescription.js"}