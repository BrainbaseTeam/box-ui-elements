{"version":3,"sources":["../../src/utils/iframe.js"],"names":["createDownloadIframe","iframe","document","querySelector","createElement","setAttribute","style","display","body","appendChild","contentDocument","write","openUrlInsideIframe","url","src"],"mappings":"AAAA;;;;;;AAMA;;;;;;;AAOA,SAASA,oBAAT,GAAmD;AAC/C,MAAIC,MAAyB,GAAKC,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAlC;;AACA,MAAI,CAACF,MAAL,EAAa;AACT;AACAA,IAAAA,MAAM,GAAGC,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAT;AACAH,IAAAA,MAAM,CAACI,YAAP,CAAoB,IAApB,EAA0B,mBAA1B;AACAJ,IAAAA,MAAM,CAACK,KAAP,CAAaC,OAAb,GAAuB,MAAvB;;AACA,QAAIL,QAAQ,CAACM,IAAb,EAAmB;AACfN,MAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;AACH;AACJ,GAV8C,CAY/C;;;AACA,MAAIA,MAAM,CAACS,eAAX,EAA4B;AACxB;AACAT,IAAAA,MAAM,CAACS,eAAP,CAAuBC,KAAvB,CAA6B,4BAA7B;AACH;;AACD,SAAOV,MAAP;AACH;AAED;;;;;;;;;AAOA,eAAe,SAASW,mBAAT,CAA6BC,GAA7B,EAA6D;AACxE,MAAMZ,MAAyB,GAAGD,oBAAoB,EAAtD;AACAC,EAAAA,MAAM,CAACa,GAAP,GAAaD,GAAb;AACA,SAAOZ,MAAP;AACH","sourcesContent":["/**\n * @flow\n * @file Function to create iframe and downloading\n * @author Box\n */\n\n/**\n * Creates an empty iframe or uses an existing one\n * for the purposes of downloading or printing\n *\n * @private\n * @return {HTMLIFrameElement} Iframe\n */\nfunction createDownloadIframe(): HTMLIFrameElement {\n    let iframe: HTMLIFrameElement = ((document.querySelector('#boxdownloadiframe'): any): HTMLIFrameElement);\n    if (!iframe) {\n        // if no existing iframe create a new one\n        iframe = document.createElement('iframe');\n        iframe.setAttribute('id', 'boxdownloadiframe');\n        iframe.style.display = 'none';\n        if (document.body) {\n            document.body.appendChild(iframe);\n        }\n    }\n\n    // If the iframe previously failed to load contentDocument will be null\n    if (iframe.contentDocument) {\n        // Clean the iframe up\n        iframe.contentDocument.write('<head></head><body></body>');\n    }\n    return iframe;\n}\n\n/**\n * Opens url in an iframe\n * Used for downloads\n *\n * @param {string} url - URL to open\n * @return {HTMLIFrameElement}\n */\nexport default function openUrlInsideIframe(url: string): HTMLIFrameElement {\n    const iframe: HTMLIFrameElement = createDownloadIframe();\n    iframe.src = url;\n    return iframe;\n}\n"],"file":"iframe.js"}