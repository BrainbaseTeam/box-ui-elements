{"version":3,"sources":["../../../src/api/tasks/TaskCollaborators.js"],"names":["omit","TasksBase","ERROR_CODE_FETCH_TASK_COLLABORATOR","ERROR_CODE_CREATE_TASK_COLLABORATOR","ERROR_CODE_UPDATE_TASK_COLLABORATOR","ERROR_CODE_DELETE_TASK_COLLABORATOR","API_PAGE_LIMIT","TaskCollaborators","taskId","getBaseApiUrl","id","errorCallback","file","successCallback","task","user","errorCode","requestData","data","type","target","post","url","getUrlForTaskCollaboratorCreate","group","getUrlForTaskGroupCreate","getUrlForTaskCollaborators","get","taskCollaborator","put","getUrlForTaskCollaborator","delete"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Helper for the box Task Collaborators API\n * @author Box\n */\nimport omit from 'lodash/omit';\n\nimport TasksBase from './TasksBase';\nimport {\n    ERROR_CODE_FETCH_TASK_COLLABORATOR,\n    ERROR_CODE_CREATE_TASK_COLLABORATOR,\n    ERROR_CODE_UPDATE_TASK_COLLABORATOR,\n    ERROR_CODE_DELETE_TASK_COLLABORATOR,\n    API_PAGE_LIMIT,\n} from '../../constants';\nimport type { ElementsErrorCallback } from '../../common/types/api';\nimport type { BoxItem } from '../../common/types/core';\n\nclass TaskCollaborators extends TasksBase {\n    getUrlForTaskCollaborators(taskId: string): string {\n        return `${this.getBaseApiUrl()}/undoc/tasks/${taskId}/task_collaborators?role=ASSIGNEE&limit=${API_PAGE_LIMIT}`;\n    }\n\n    getUrlForTaskCollaboratorCreate(): string {\n        return `${this.getBaseApiUrl()}/undoc/task_collaborators`;\n    }\n\n    getUrlForTaskCollaborator(id: string): string {\n        return `${this.getBaseApiUrl()}/undoc/task_collaborators/${id}`;\n    }\n\n    getUrlForTaskGroupCreate(): string {\n        return `${this.getBaseApiUrl()}/undoc/task_collaborators/expand_group`;\n    }\n\n    createTaskCollaborator({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n        user,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        task: { id: string },\n        user: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_CREATE_TASK_COLLABORATOR;\n\n        const requestData = {\n            data: {\n                task: {\n                    type: 'task',\n                    id: task.id,\n                },\n                target: {\n                    type: 'user',\n                    id: user.id,\n                },\n            },\n        };\n\n        this.post({\n            id: file.id,\n            url: this.getUrlForTaskCollaboratorCreate(),\n            data: { ...requestData },\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    createTaskCollaboratorsforGroup({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n        group,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        group: { id: string },\n        successCallback: Function,\n        task: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_CREATE_TASK_COLLABORATOR;\n\n        const requestData = {\n            data: {\n                task: {\n                    type: 'task',\n                    id: task.id,\n                },\n                target: {\n                    type: 'group',\n                    id: group.id,\n                },\n            },\n        };\n\n        this.post({\n            id: file.id,\n            url: this.getUrlForTaskGroupCreate(),\n            data: { ...requestData },\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    getTaskCollaborators({\n        errorCallback,\n        file,\n        successCallback,\n        task,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: { id: string },\n        successCallback: Function,\n        task: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_FETCH_TASK_COLLABORATOR;\n        const url = this.getUrlForTaskCollaborators(task.id);\n        this.get({ id: file.id, successCallback, errorCallback, url });\n    }\n\n    updateTaskCollaborator({\n        errorCallback,\n        file,\n        successCallback,\n        taskCollaborator,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        taskCollaborator: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_UPDATE_TASK_COLLABORATOR;\n\n        const requestData = {\n            data: omit(taskCollaborator, 'id'),\n        };\n\n        this.put({\n            id: file.id,\n            url: this.getUrlForTaskCollaborator(taskCollaborator.id),\n            data: { ...requestData },\n            successCallback,\n            errorCallback,\n        });\n    }\n\n    deleteTaskCollaborator({\n        errorCallback,\n        file,\n        successCallback,\n        taskCollaborator,\n    }: {\n        errorCallback: ElementsErrorCallback,\n        file: BoxItem,\n        successCallback: Function,\n        taskCollaborator: { id: string },\n    }): void {\n        this.errorCode = ERROR_CODE_DELETE_TASK_COLLABORATOR;\n\n        this.delete({\n            id: file.id,\n            url: this.getUrlForTaskCollaborator(taskCollaborator.id),\n            successCallback,\n            errorCallback,\n        });\n    }\n}\n\nexport default TaskCollaborators;\n"],"file":"TaskCollaborators.js"}