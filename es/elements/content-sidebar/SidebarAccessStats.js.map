{"version":3,"sources":["../../../src/elements/content-sidebar/SidebarAccessStats.js"],"names":["React","isFinite","injectIntl","FormattedMessage","AccessStats","messages","INTERACTION_TARGET","SECTION_TARGETS","DETAILS_TARGETS","isBoxNote","SidebarSection","withErrorHandling","SidebarAccessStats","onAccessStatsClick","accessStats","has_count_overflowed","file","error","intl","preview_count","comment_count","download_count","edit_count","errorMessage","formatMessage","undefined","ACCESS_STATS","sidebarAccessStats","COMMENTS","DOWNLOADS","PREVIEWS","VIEWS","EDITS","VIEW_DETAILS","SidebarAccessStatsComponent"],"mappings":";;AAAA;;;;;AAMA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,YAA7C;AACA,OAAOC,WAAP,MAAwB,yCAAxB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,kBAAT,EAA6BC,eAA7B,EAA8CC,eAA9C,QAAqE,8BAArE;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;;AASA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAQd;AAAA,MAPTC,kBAOS,QAPTA,kBAOS;AAAA,8BANTC,WAMS;AAAA,MANTA,WAMS,iCANK;AACVC,IAAAA,oBAAoB,EAAE;AADZ,GAML;AAAA,MAHTC,IAGS,QAHTA,IAGS;AAAA,MAFTC,KAES,QAFTA,KAES;AAAA,MADTC,IACS,QADTA,IACS;AAAA,MACDC,aADC,GAC4DL,WAD5D,CACDK,aADC;AAAA,MACcC,aADd,GAC4DN,WAD5D,CACcM,aADd;AAAA,MAC6BC,cAD7B,GAC4DP,WAD5D,CAC6BO,cAD7B;AAAA,MAC6CC,UAD7C,GAC4DR,WAD5D,CAC6CQ,UAD7C;;AAGT,MACI,CAACrB,QAAQ,CAACkB,aAAD,CAAT,IACA,CAAClB,QAAQ,CAACmB,aAAD,CADT,IAEA,CAACnB,QAAQ,CAACoB,cAAD,CAFT,IAGA,CAACpB,QAAQ,CAACqB,UAAD,CAHT,IAIA,CAACL,KALL,EAME;AACE,WAAO,IAAP;AACH;;AAED,MAAMM,YAAY,GAAGN,KAAK,GAAGC,IAAI,CAACM,aAAL,CAAmBP,KAAnB,CAAH,GAA+BQ,SAAzD;AACA,sBACI,oBAAC,cAAD;AACI,IAAA,iBAAiB,EAAElB,eAAe,CAACmB,YADvC;AAEI,IAAA,KAAK,eAAE,oBAAC,gBAAD,EAAsBrB,QAAQ,CAACsB,kBAA/B;AAFX,kBAII,oBAAC,WAAD;AACI,IAAA,YAAY,EAAEJ,YADlB;AAEI,IAAA,YAAY,EAAEH,aAFlB;AAGI,IAAA,sBAAsB,sBACjBd,kBADiB,EACIE,eAAe,CAACkB,YAAhB,CAA6BE,QADjC,CAH1B;AAMI,IAAA,aAAa,EAAEP,cANnB;AAOI,IAAA,uBAAuB,sBAClBf,kBADkB,EACGE,eAAe,CAACkB,YAAhB,CAA6BG,SADhC,CAP3B;AAUI,IAAA,YAAY,EAAEV,aAVlB;AAWI,IAAA,sBAAsB,sBACjBb,kBADiB,EACIE,eAAe,CAACkB,YAAhB,CAA6BI,QADjC,CAX1B;AAcI,IAAA,mBAAmB,sBACdxB,kBADc,EACOE,eAAe,CAACkB,YAAhB,CAA6BK,KADpC,CAdvB;AAiBI,IAAA,SAAS,EAAET,UAjBf;AAkBI,IAAA,mBAAmB,sBACdhB,kBADc,EACOE,eAAe,CAACkB,YAAhB,CAA6BM,KADpC,CAlBvB;AAqBI,IAAA,oBAAoB,EAAEnB,kBArB1B;AAsBI,IAAA,SAAS,EAAEJ,SAAS,CAACO,IAAD,CAtBxB;AAuBI,IAAA,mBAAmB,sBACdV,kBADc,EACOE,eAAe,CAACkB,YAAhB,CAA6BO,YADpC;AAvBvB,IAJJ,CADJ;AAkCH,CAxDD;;AA0DA,SAASrB,kBAAkB,IAAIsB,2BAA/B;AACA,eAAevB,iBAAiB,CAACT,UAAU,CAACU,kBAAD,CAAX,CAAhC","sourcesContent":["/**\n * @flow\n * @file Versions sidebar component\n * @author Box\n */\n\nimport React from 'react';\nimport isFinite from 'lodash/isFinite';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport AccessStats from '../../features/access-stats/AccessStats';\nimport messages from '../common/messages';\nimport { INTERACTION_TARGET, SECTION_TARGETS, DETAILS_TARGETS } from '../common/interactionTargets';\nimport { isBoxNote } from '../../utils/file';\nimport SidebarSection from './SidebarSection';\nimport withErrorHandling from './withErrorHandling';\n\ntype Props = {\n    accessStats?: FileAccessStats,\n    error?: MessageDescriptor,\n    file: BoxItem,\n    onAccessStatsClick?: Function,\n} & InjectIntlProvidedProps;\n\nconst SidebarAccessStats = ({\n    onAccessStatsClick,\n    accessStats = {\n        has_count_overflowed: false,\n    },\n    file,\n    error,\n    intl,\n}: Props) => {\n    const { preview_count, comment_count, download_count, edit_count } = accessStats;\n\n    if (\n        !isFinite(preview_count) &&\n        !isFinite(comment_count) &&\n        !isFinite(download_count) &&\n        !isFinite(edit_count) &&\n        !error\n    ) {\n        return null;\n    }\n\n    const errorMessage = error ? intl.formatMessage(error) : undefined;\n    return (\n        <SidebarSection\n            interactionTarget={SECTION_TARGETS.ACCESS_STATS}\n            title={<FormattedMessage {...messages.sidebarAccessStats} />}\n        >\n            <AccessStats\n                errorMessage={errorMessage}\n                commentCount={comment_count}\n                commentStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.COMMENTS,\n                }}\n                downloadCount={download_count}\n                downloadStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.DOWNLOADS,\n                }}\n                previewCount={preview_count}\n                previewStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.PREVIEWS,\n                }}\n                viewStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.VIEWS,\n                }}\n                editCount={edit_count}\n                editStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.EDITS,\n                }}\n                openAccessStatsModal={onAccessStatsClick}\n                isBoxNote={isBoxNote(file)}\n                viewMoreButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.VIEW_DETAILS,\n                }}\n            />\n        </SidebarSection>\n    );\n};\n\nexport { SidebarAccessStats as SidebarAccessStatsComponent };\nexport default withErrorHandling(injectIntl(SidebarAccessStats));\n"],"file":"SidebarAccessStats.js"}