{"version":3,"sources":["../../../src/elements/content-sidebar/SidebarAccessStats.js"],"names":["React","isFinite","injectIntl","FormattedMessage","AccessStats","messages","INTERACTION_TARGET","SECTION_TARGETS","DETAILS_TARGETS","isBoxNote","SidebarSection","withErrorHandling","SidebarAccessStats","onAccessStatsClick","accessStats","comment_count","undefined","download_count","edit_count","has_count_overflowed","preview_count","file","error","intl","errorMessage","formatMessage","ACCESS_STATS","sidebarAccessStats","COMMENTS","DOWNLOADS","PREVIEWS","VIEWS","EDITS","VIEW_DETAILS","SidebarAccessStatsComponent"],"mappings":";;AAAA;;;;;AAMA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,YAA7C;AAEA,OAAOC,WAAP,MAAwB,yCAAxB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,kBAAT,EAA6BC,eAA7B,EAA8CC,eAA9C,QAAqE,8BAArE;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;;AAWA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAYd;AAAA,MAXTC,kBAWS,QAXTA,kBAWS;AAAA,8BAVTC,WAUS;AAAA,MAVTA,WAUS,iCAVK;AACVC,IAAAA,aAAa,EAAEC,SADL;AAEVC,IAAAA,cAAc,EAAED,SAFN;AAGVE,IAAAA,UAAU,EAAEF,SAHF;AAIVG,IAAAA,oBAAoB,EAAE,KAJZ;AAKVC,IAAAA,aAAa,EAAEJ;AALL,GAUL;AAAA,MAHTK,IAGS,QAHTA,IAGS;AAAA,MAFTC,KAES,QAFTA,KAES;AAAA,MADTC,IACS,QADTA,IACS;AAAA,MACDH,aADC,GAC4DN,WAD5D,CACDM,aADC;AAAA,MACcL,aADd,GAC4DD,WAD5D,CACcC,aADd;AAAA,MAC6BE,cAD7B,GAC4DH,WAD5D,CAC6BG,cAD7B;AAAA,MAC6CC,UAD7C,GAC4DJ,WAD5D,CAC6CI,UAD7C;;AAGT,MACI,CAACjB,QAAQ,CAACmB,aAAD,CAAT,IACA,CAACnB,QAAQ,CAACc,aAAD,CADT,IAEA,CAACd,QAAQ,CAACgB,cAAD,CAFT,IAGA,CAAChB,QAAQ,CAACiB,UAAD,CAHT,IAIA,CAACI,KALL,EAME;AACE,WAAO,IAAP;AACH;;AAED,MAAME,YAAY,GAAGF,KAAK,GAAGC,IAAI,CAACE,aAAL,CAAmBH,KAAnB,CAAH,GAA+BN,SAAzD;AACA,SACI,oBAAC,cAAD;AACI,IAAA,iBAAiB,EAAET,eAAe,CAACmB,YADvC;AAEI,IAAA,KAAK,EAAE,oBAAC,gBAAD,EAAsBrB,QAAQ,CAACsB,kBAA/B;AAFX,KAII,oBAAC,WAAD;AACI,IAAA,YAAY,EAAEH,YADlB;AAEI,IAAA,YAAY,EAAET,aAFlB;AAGI,IAAA,sBAAsB,sBACjBT,kBADiB,EACIE,eAAe,CAACkB,YAAhB,CAA6BE,QADjC,CAH1B;AAMI,IAAA,aAAa,EAAEX,cANnB;AAOI,IAAA,uBAAuB,sBAClBX,kBADkB,EACGE,eAAe,CAACkB,YAAhB,CAA6BG,SADhC,CAP3B;AAUI,IAAA,YAAY,EAAET,aAVlB;AAWI,IAAA,sBAAsB,sBACjBd,kBADiB,EACIE,eAAe,CAACkB,YAAhB,CAA6BI,QADjC,CAX1B;AAcI,IAAA,mBAAmB,sBACdxB,kBADc,EACOE,eAAe,CAACkB,YAAhB,CAA6BK,KADpC,CAdvB;AAiBI,IAAA,SAAS,EAAEb,UAjBf;AAkBI,IAAA,mBAAmB,sBACdZ,kBADc,EACOE,eAAe,CAACkB,YAAhB,CAA6BM,KADpC,CAlBvB;AAqBI,IAAA,oBAAoB,EAAEnB,kBArB1B;AAsBI,IAAA,SAAS,EAAEJ,SAAS,CAACY,IAAD,CAtBxB;AAuBI,IAAA,mBAAmB,sBACdf,kBADc,EACOE,eAAe,CAACkB,YAAhB,CAA6BO,YADpC;AAvBvB,IAJJ,CADJ;AAkCH,CA5DD;;AA8DA,SAASrB,kBAAkB,IAAIsB,2BAA/B;AACA,eAAevB,iBAAiB,CAACT,UAAU,CAACU,kBAAD,CAAX,CAAhC","sourcesContent":["/**\n * @flow\n * @file Versions sidebar component\n * @author Box\n */\n\nimport React from 'react';\nimport isFinite from 'lodash/isFinite';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport type { MessageDescriptor, InjectIntlProvidedProps } from 'react-intl';\nimport AccessStats from '../../features/access-stats/AccessStats';\nimport messages from '../common/messages';\nimport { INTERACTION_TARGET, SECTION_TARGETS, DETAILS_TARGETS } from '../common/interactionTargets';\nimport { isBoxNote } from '../../utils/file';\nimport SidebarSection from './SidebarSection';\nimport withErrorHandling from './withErrorHandling';\nimport type { FileAccessStats } from './flowTypes';\nimport type { BoxItem } from '../../common/types/core';\n\ntype Props = {\n    accessStats?: FileAccessStats,\n    error?: MessageDescriptor,\n    file: BoxItem,\n    onAccessStatsClick?: Function,\n} & InjectIntlProvidedProps;\n\nconst SidebarAccessStats = ({\n    onAccessStatsClick,\n    accessStats = {\n        comment_count: undefined,\n        download_count: undefined,\n        edit_count: undefined,\n        has_count_overflowed: false,\n        preview_count: undefined,\n    },\n    file,\n    error,\n    intl,\n}: Props) => {\n    const { preview_count, comment_count, download_count, edit_count } = accessStats;\n\n    if (\n        !isFinite(preview_count) &&\n        !isFinite(comment_count) &&\n        !isFinite(download_count) &&\n        !isFinite(edit_count) &&\n        !error\n    ) {\n        return null;\n    }\n\n    const errorMessage = error ? intl.formatMessage(error) : undefined;\n    return (\n        <SidebarSection\n            interactionTarget={SECTION_TARGETS.ACCESS_STATS}\n            title={<FormattedMessage {...messages.sidebarAccessStats} />}\n        >\n            <AccessStats\n                errorMessage={errorMessage}\n                commentCount={comment_count}\n                commentStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.COMMENTS,\n                }}\n                downloadCount={download_count}\n                downloadStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.DOWNLOADS,\n                }}\n                previewCount={preview_count}\n                previewStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.PREVIEWS,\n                }}\n                viewStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.VIEWS,\n                }}\n                editCount={edit_count}\n                editStatButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.EDITS,\n                }}\n                openAccessStatsModal={onAccessStatsClick}\n                isBoxNote={isBoxNote(file)}\n                viewMoreButtonProps={{\n                    [INTERACTION_TARGET]: DETAILS_TARGETS.ACCESS_STATS.VIEW_DETAILS,\n                }}\n            />\n        </SidebarSection>\n    );\n};\n\nexport { SidebarAccessStats as SidebarAccessStatsComponent };\nexport default withErrorHandling(injectIntl(SidebarAccessStats));\n"],"file":"SidebarAccessStats.js"}