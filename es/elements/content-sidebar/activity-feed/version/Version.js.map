{"version":3,"sources":["../../../../../src/elements/content-sidebar/activity-feed/version/Version.js"],"names":["React","FormattedMessage","injectIntl","ActivityCard","IconInfo","messages","PlainButton","selectors","ACTIVITY_TARGETS","FILE_REQUEST_NAME","VERSION_UPLOAD_ACTION","VERSION_DELETE_ACTION","VERSION_PROMOTE_ACTION","VERSION_RESTORE_ACTION","ACTION_MAP","versionDeleted","versionPromoted","versionRestored","versionUploaded","Version","props","action","getVersionAction","id","intl","onInfo","version_number","version_promoted","user","getVersionUser","name","formatMessage","fileRequestDisplayName","getVersionInfo","VERSION_CARD","VersionBase"],"mappings":";;;;;;AAAA;;;;AAKA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,YAA7C;AAEA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,SAASC,gBAAT,QAAiC,oCAAjC;AACA,SACIC,iBADJ,EAEIC,qBAFJ,EAGIC,qBAHJ,EAIIC,sBAJJ,EAKIC,sBALJ,QAMO,uBANP;AAQA,OAAO,gBAAP;AAUA,IAAMC,UAAU,mDACXH,qBADW,EACaN,QAAQ,CAACU,cADtB,gCAEXH,sBAFW,EAEcP,QAAQ,CAACW,eAFvB,gCAGXH,sBAHW,EAGcR,QAAQ,CAACY,eAHvB,gCAIXP,qBAJW,EAIaL,QAAQ,CAACa,eAJtB,eAAhB;;AAOA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAA8B;AAC1C;AACA,MAAMC,MAAM,GAAGd,SAAS,CAACe,gBAAV,CAA2BF,KAA3B,CAAf;AAF0C,MAGlCG,EAHkC,GAGqBH,KAHrB,CAGlCG,EAHkC;AAAA,MAG9BC,IAH8B,GAGqBJ,KAHrB,CAG9BI,IAH8B;AAAA,MAGxBC,MAHwB,GAGqBL,KAHrB,CAGxBK,MAHwB;AAAA,MAGhBC,cAHgB,GAGqBN,KAHrB,CAGhBM,cAHgB;AAAA,MAGAC,gBAHA,GAGqBP,KAHrB,CAGAO,gBAHA,EAI1C;;AACA,MAAMC,IAAI,GAAGrB,SAAS,CAACsB,cAAV,CAAyBT,KAAzB,CAAb;AACA,MAAMU,IAAI,GAAGF,IAAI,CAACE,IAAL,KAAcrB,iBAAd,GAAkCe,IAAI,CAACO,aAAL,CAAmB1B,QAAQ,CAAC2B,sBAA5B,CAAlC,GAAwFJ,IAAI,CAACE,IAA1G;AACA,SACI,oBAAC,YAAD;AAAc,IAAA,SAAS,EAAC;AAAxB,KACI;AAAM,IAAA,SAAS,EAAC;AAAhB,KACI,oBAAC,gBAAD,eACQhB,UAAU,CAACO,MAAD,CADlB;AAEI,IAAA,MAAM,EAAE;AACJS,MAAAA,IAAI,EAAE,oCAASA,IAAT,CADF;AAEJJ,MAAAA,cAAc,EAAdA,cAFI;AAGJC,MAAAA,gBAAgB,EAAhBA;AAHI;AAFZ,KADJ,CADJ,EAWKF,MAAM,GACH;AAAM,IAAA,SAAS,EAAC;AAAhB,KACI,oBAAC,WAAD;AACI,kBAAYD,IAAI,CAACO,aAAL,CAAmB1B,QAAQ,CAAC4B,cAA5B,CADhB;AAEI,IAAA,SAAS,EAAC,kBAFd;AAGI,yBAAmBzB,gBAAgB,CAAC0B,YAHxC;AAII,IAAA,OAAO,EAAE,mBAAM;AACXT,MAAAA,MAAM,CAAC;AAAEF,QAAAA,EAAE,EAAFA,EAAF;AAAMG,QAAAA,cAAc,EAAdA;AAAN,OAAD,CAAN;AACH,KANL;AAOI,IAAA,IAAI,EAAC;AAPT,KASI,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAE,EAAlB;AAAsB,IAAA,KAAK,EAAE;AAA7B,IATJ,CADJ,CADG,GAcH,IAzBR,CADJ;AA6BH,CApCD;;AAsCA,SAASP,OAAO,IAAIgB,WAApB;AACA,eAAejC,UAAU,CAACiB,OAAD,CAAzB","sourcesContent":["/**\n * @flow\n * @file Version component\n */\n\nimport * as React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport type { InjectIntlProvidedProps } from 'react-intl';\nimport ActivityCard from '../ActivityCard';\nimport IconInfo from '../../../../icons/general/IconInfo';\nimport messages from '../../../common/messages';\nimport PlainButton from '../../../../components/plain-button';\nimport selectors from '../../../common/selectors/version';\nimport { ACTIVITY_TARGETS } from '../../../common/interactionTargets';\nimport {\n    FILE_REQUEST_NAME,\n    VERSION_UPLOAD_ACTION,\n    VERSION_DELETE_ACTION,\n    VERSION_PROMOTE_ACTION,\n    VERSION_RESTORE_ACTION,\n} from '../../../../constants';\nimport type { User } from '../../../../common/types/core';\nimport './Version.scss';\n\ntype Props = {\n    id: string,\n    modified_by: User,\n    onInfo?: Function,\n    version_number: string,\n    version_promoted?: string,\n} & InjectIntlProvidedProps;\n\nconst ACTION_MAP = {\n    [VERSION_DELETE_ACTION]: messages.versionDeleted,\n    [VERSION_PROMOTE_ACTION]: messages.versionPromoted,\n    [VERSION_RESTORE_ACTION]: messages.versionRestored,\n    [VERSION_UPLOAD_ACTION]: messages.versionUploaded,\n};\n\nconst Version = (props: Props): React.Node => {\n    // $FlowFixMe\n    const action = selectors.getVersionAction(props);\n    const { id, intl, onInfo, version_number, version_promoted } = props;\n    // $FlowFixMe\n    const user = selectors.getVersionUser(props);\n    const name = user.name === FILE_REQUEST_NAME ? intl.formatMessage(messages.fileRequestDisplayName) : user.name;\n    return (\n        <ActivityCard className=\"bcs-Version\">\n            <span className=\"bcs-Version-message\">\n                <FormattedMessage\n                    {...ACTION_MAP[action]}\n                    values={{\n                        name: <strong>{name}</strong>,\n                        version_number,\n                        version_promoted,\n                    }}\n                />\n            </span>\n            {onInfo ? (\n                <span className=\"bcs-Version-actions\">\n                    <PlainButton\n                        aria-label={intl.formatMessage(messages.getVersionInfo)}\n                        className=\"bcs-Version-info\"\n                        data-resin-target={ACTIVITY_TARGETS.VERSION_CARD}\n                        onClick={() => {\n                            onInfo({ id, version_number });\n                        }}\n                        type=\"button\"\n                    >\n                        <IconInfo height={16} width={16} />\n                    </PlainButton>\n                </span>\n            ) : null}\n        </ActivityCard>\n    );\n};\n\nexport { Version as VersionBase };\nexport default injectIntl(Version);\n"],"file":"Version.js"}