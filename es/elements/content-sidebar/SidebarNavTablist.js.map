{"version":3,"sources":["../../../src/elements/content-sidebar/SidebarNavTablist.js"],"names":["React","withRouter","KEYS","SidebarNavTablist","children","history","elementId","isOpen","onNavigate","refs","tablist","Children","map","child","props","sidebarView","handleKeyDown","event","currentIndex","indexOf","location","pathname","length","nextIndex","key","arrowUp","push","focus","stopPropagation","preventDefault","arrowDown","tab","cloneElement","ref"],"mappings":";;;;;;AAAA;;;;;AAMA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,IAAT,QAAqB,iBAArB;;AAWA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,OAAiE;AAAA,MAA9DC,QAA8D,QAA9DA,QAA8D;AAAA,MAApDC,OAAoD,QAApDA,OAAoD;AAAA,MAA3CC,SAA2C,QAA3CA,SAA2C;AAAA,MAAhCC,MAAgC,QAAhCA,MAAgC;AAAA,MAAxBC,UAAwB,QAAxBA,UAAwB;AACvF,MAAMC,IAAI,GAAG,EAAb;AACA,MAAMC,OAAO,GAAGV,KAAK,CAACW,QAAN,CAAeC,GAAf,CAAmBR,QAAnB,EAA6B,UAAAS,KAAK;AAAA,WAAIA,KAAK,eAAQA,KAAK,CAACC,KAAN,CAAYC,WAApB,CAAT;AAAA,GAAlC,CAAhB;;AACA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAA2C;AAC7D,QAAMC,YAAY,GAAGR,OAAO,CAACS,OAAR,CAAgBd,OAAO,CAACe,QAAR,CAAiBC,QAAjC,CAArB;AAD6D,QAErDC,MAFqD,GAE1CZ,OAF0C,CAErDY,MAFqD;AAG7D,QAAIC,SAAS,GAAGL,YAAhB;;AACA,YAAQD,KAAK,CAACO,GAAd;AACI,WAAKtB,IAAI,CAACuB,OAAV;AACIF,QAAAA,SAAS,GAAG,CAACL,YAAY,GAAG,CAAf,GAAmBI,MAApB,IAA8BA,MAA1C;AAEAjB,QAAAA,OAAO,CAACqB,IAAR,CAAahB,OAAO,CAACa,SAAD,CAApB;;AACA,YAAId,IAAI,CAACa,MAAL,GAAc,CAAlB,EAAqB;AACjBb,UAAAA,IAAI,CAACc,SAAD,CAAJ,CAAgBI,KAAhB;AACH;;AAEDV,QAAAA,KAAK,CAACW,eAAN;AACAX,QAAAA,KAAK,CAACY,cAAN;AACA;;AACJ,WAAK3B,IAAI,CAAC4B,SAAV;AACIP,QAAAA,SAAS,GAAG,CAACL,YAAY,GAAG,CAAhB,IAAqBI,MAAjC;AAEAjB,QAAAA,OAAO,CAACqB,IAAR,CAAahB,OAAO,CAACa,SAAD,CAApB;;AACA,YAAId,IAAI,CAACa,MAAL,GAAc,CAAlB,EAAqB;AACjBb,UAAAA,IAAI,CAACc,SAAD,CAAJ,CAAgBI,KAAhB;AACH;;AAEDV,QAAAA,KAAK,CAACW,eAAN;AACAX,QAAAA,KAAK,CAACY,cAAN;AACA;;AACJ;AACI;AAxBR;AA0BH,GA9BD;;AAgCA,SACI;AACI,wBAAiB,UADrB;AAEI,IAAA,SAAS,EAAC,qBAFd;AAGI,IAAA,IAAI,EAAC,SAHT;AAII,IAAA,QAAQ,EAAC,GAJb;AAKI,IAAA,SAAS,EAAEb;AALf,KAOKhB,KAAK,CAACW,QAAN,CAAeC,GAAf,CAAmBR,QAAnB,EAA6B,UAAA2B,GAAG,EAAI;AACjC,QAAI,CAACA,GAAL,EAAU;AACN,aAAO,IAAP;AACH;;AAED,WAAO/B,KAAK,CAACgC,YAAN,CAAmBD,GAAnB;AACHzB,MAAAA,SAAS,EAATA,SADG;AAEHC,MAAAA,MAAM,EAANA,MAFG;AAGHC,MAAAA,UAAU,EAAVA,UAHG;AAIHyB,MAAAA,GAAG,EAAE,aAAAA,KAAG,EAAI;AACRxB,QAAAA,IAAI,CAACiB,IAAL,CAAUO,KAAV;AACH;AANE,OAOAF,GAAG,CAACjB,KAPJ,EAAP;AASH,GAdA,CAPL,CADJ;AAyBH,CA5DD;;AA8DA,eAAeb,UAAU,CAACE,iBAAD,CAAzB","sourcesContent":["/**\n * @flow\n * @file Content Sidebar nav tablist Component\n * @author Box\n */\n\nimport * as React from 'react';\nimport type { RouterHistory } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { KEYS } from '../../constants';\nimport type { NavigateOptions } from './flowTypes';\n\ntype Props = {\n    children: React.Node,\n    elementId: string,\n    history: RouterHistory,\n    isOpen?: boolean,\n    onNavigate?: (SyntheticEvent<>, NavigateOptions) => void,\n};\n\nconst SidebarNavTablist = ({ children, history, elementId, isOpen, onNavigate }: Props) => {\n    const refs = [];\n    const tablist = React.Children.map(children, child => child && `/${child.props.sidebarView}`);\n    const handleKeyDown = (event: SyntheticKeyboardEvent<>): void => {\n        const currentIndex = tablist.indexOf(history.location.pathname);\n        const { length } = tablist;\n        let nextIndex = currentIndex;\n        switch (event.key) {\n            case KEYS.arrowUp:\n                nextIndex = (currentIndex - 1 + length) % length;\n\n                history.push(tablist[nextIndex]);\n                if (refs.length > 0) {\n                    refs[nextIndex].focus();\n                }\n\n                event.stopPropagation();\n                event.preventDefault();\n                break;\n            case KEYS.arrowDown:\n                nextIndex = (currentIndex + 1) % length;\n\n                history.push(tablist[nextIndex]);\n                if (refs.length > 0) {\n                    refs[nextIndex].focus();\n                }\n\n                event.stopPropagation();\n                event.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n\n    return (\n        <div\n            aria-orientation=\"vertical\"\n            className=\"bcs-SidebarNav-main\"\n            role=\"tablist\"\n            tabIndex=\"0\"\n            onKeyDown={handleKeyDown}\n        >\n            {React.Children.map(children, tab => {\n                if (!tab) {\n                    return null;\n                }\n\n                return React.cloneElement(tab, {\n                    elementId,\n                    isOpen,\n                    onNavigate,\n                    ref: ref => {\n                        refs.push(ref);\n                    },\n                    ...tab.props,\n                });\n            })}\n        </div>\n    );\n};\n\nexport default withRouter(SidebarNavTablist);\n"],"file":"SidebarNavTablist.js"}