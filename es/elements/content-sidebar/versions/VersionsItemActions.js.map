{"version":3,"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemActions.js"],"names":["React","FormattedMessage","DropdownMenu","IconClockPast","IconDownload","IconEllipsis","IconOpenWith","IconTrash","IconUpload","messages","PlainButton","Tooltip","VersionsItemAction","Menu","handleMenuClose","event","stopPropagation","handleToggleClick","VersionsItemActions","fileId","isCurrent","isRetained","onDelete","onDownload","onPreview","onPromote","onRestore","showDelete","showDownload","showPreview","showPromote","showRestore","versionActionToggle","text","versionActionPreview","versionActionDownload","versionActionPromote","versionActionRestore","versionActionDisabledRetention","versionActionDelete"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Versions Item Actions component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DropdownMenu from '../../../components/dropdown-menu';\nimport IconClockPast from '../../../icons/general/IconClockPast';\nimport IconDownload from '../../../icons/general/IconDownload';\nimport IconEllipsis from '../../../icons/general/IconEllipsis';\nimport IconOpenWith from '../../../icons/general/IconOpenWith';\nimport IconTrash from '../../../icons/general/IconTrash';\nimport IconUpload from '../../../icons/general/IconUpload';\nimport messages from './messages';\nimport PlainButton from '../../../components/plain-button';\nimport Tooltip from '../../../components/tooltip/Tooltip';\nimport VersionsItemAction from './VersionsItemAction';\nimport { Menu } from '../../../components/menu';\nimport './VersionsItemActions.scss';\n\ntype Props = {\n    fileId: string,\n    isCurrent?: boolean,\n    isRetained?: boolean,\n    onDelete?: () => void,\n    onDownload?: () => void,\n    onPreview?: () => void,\n    onPromote?: () => void,\n    onRestore?: () => void,\n    showDelete?: boolean,\n    showDownload?: boolean,\n    showPreview?: boolean,\n    showPromote?: boolean,\n    showRestore?: boolean,\n};\n\nconst handleMenuClose = (event: SyntheticEvent<> | MouseEvent) => {\n    event.stopPropagation();\n};\n\nconst handleToggleClick = (event: SyntheticMouseEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n};\n\nconst VersionsItemActions = ({\n    fileId,\n    isCurrent = false,\n    isRetained = false,\n    onDelete,\n    onDownload,\n    onPreview,\n    onPromote,\n    onRestore,\n    showDelete = false,\n    showDownload = false,\n    showPreview = false,\n    showPromote = false,\n    showRestore = false,\n}: Props) => {\n    if (!showDelete && !showDownload && !showPreview && !showPromote && !showRestore) {\n        return null;\n    }\n\n    return (\n        <DropdownMenu\n            className=\"bcs-VersionsItemActions\"\n            constrainToScrollParent\n            constrainToWindow\n            isRightAligned\n            onMenuClose={handleMenuClose}\n        >\n            <PlainButton\n                className=\"bcs-VersionsItemActions-toggle\"\n                data-resin-iscurrent={isCurrent}\n                data-resin-itemid={fileId}\n                data-resin-target=\"overflow\"\n                onClick={handleToggleClick}\n                type=\"button\"\n            >\n                <IconEllipsis height={4} width={14} />\n                <FormattedMessage {...messages.versionActionToggle}>\n                    {(text: string) => <span className=\"accessibility-hidden\">{text}</span>}\n                </FormattedMessage>\n            </PlainButton>\n\n            <Menu\n                className=\"bcs-VersionsItemActions-menu\"\n                data-resin-component=\"preview\" // Needed for resin events due to tether moving menu to body\n                data-resin-feature=\"versions\" // Needed for resin events due to tether moving menu to body\n            >\n                {showPreview && (\n                    <VersionsItemAction action=\"preview\" fileId={fileId} isCurrent={isCurrent} onClick={onPreview}>\n                        <IconOpenWith />\n                        <FormattedMessage {...messages.versionActionPreview} />\n                    </VersionsItemAction>\n                )}\n\n                {showDownload && (\n                    <VersionsItemAction action=\"download\" fileId={fileId} isCurrent={isCurrent} onClick={onDownload}>\n                        <IconDownload />\n                        <FormattedMessage {...messages.versionActionDownload} />\n                    </VersionsItemAction>\n                )}\n                {showPromote && (\n                    <VersionsItemAction action=\"promote\" fileId={fileId} isCurrent={isCurrent} onClick={onPromote}>\n                        <IconUpload />\n                        <FormattedMessage {...messages.versionActionPromote} />\n                    </VersionsItemAction>\n                )}\n                {showRestore && (\n                    <VersionsItemAction action=\"restore\" fileId={fileId} isCurrent={isCurrent} onClick={onRestore}>\n                        <IconClockPast height={14} width={14} />\n                        <FormattedMessage {...messages.versionActionRestore} />\n                    </VersionsItemAction>\n                )}\n                {showDelete && (\n                    <Tooltip\n                        position=\"middle-left\"\n                        text={<FormattedMessage {...messages.versionActionDisabledRetention} />}\n                        isTabbable={false}\n                        isDisabled={!isRetained}\n                    >\n                        <VersionsItemAction\n                            action=\"remove\"\n                            fileId={fileId}\n                            isCurrent={isCurrent}\n                            isDisabled={isRetained}\n                            onClick={onDelete}\n                        >\n                            <IconTrash />\n                            <FormattedMessage {...messages.versionActionDelete} />\n                        </VersionsItemAction>\n                    </Tooltip>\n                )}\n            </Menu>\n        </DropdownMenu>\n    );\n};\n\nexport default VersionsItemActions;\n"],"file":"VersionsItemActions.js"}