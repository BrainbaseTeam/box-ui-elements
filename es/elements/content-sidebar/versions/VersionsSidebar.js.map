{"version":3,"sources":["../../../../src/elements/content-sidebar/versions/VersionsSidebar.js"],"names":["React","FormattedMessage","InlineError","messages","SidebarContent","VersionsMenu","BackButton","DEFAULT_FETCH_END","LoadingIndicatorWrapper","MAX_VERSIONS","VersionsSidebar","error","isLoading","parentName","versions","rest","showLimit","length","showVersions","showEmpty","showError","versionsTitle","versionServerError","versionsEmpty","versionMaxEntries","maxVersions"],"mappings":";;;;;;AAAA;;;;;AAMA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,gBAAT,QAAiC,YAAjC;AAEA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,iBAAT,QAAkC,oBAAlC;AACA,SAASC,uBAAT,QAAwC,uCAAxC;AAEA,OAAO,wBAAP;AAEA,IAAMC,YAAY,GAAGF,iBAArB;;AAYA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,OAAgE;AAAA,MAA7DC,KAA6D,QAA7DA,KAA6D;AAAA,MAAtDC,SAAsD,QAAtDA,SAAsD;AAAA,MAA3CC,UAA2C,QAA3CA,UAA2C;AAAA,MAA/BC,QAA+B,QAA/BA,QAA+B;AAAA,MAAlBC,IAAkB;;AACpF,MAAMC,SAAS,GAAGF,QAAQ,CAACG,MAAT,IAAmBR,YAArC;AACA,MAAMS,YAAY,GAAG,CAAC,CAACJ,QAAQ,CAACG,MAAhC;AACA,MAAME,SAAS,GAAG,CAACP,SAAD,IAAc,CAACM,YAAjC;AACA,MAAME,SAAS,GAAG,CAAC,CAACT,KAApB;AAEA,SACI,oBAAC,cAAD;AACI,IAAA,SAAS,EAAC,cADd;AAEI,4BAAqB,SAFzB;AAGI,0BAAmB,UAHvB;AAII,IAAA,KAAK,EACD,0CACI,oBAAC,UAAD;AAAY,2BAAkB,MAA9B;AAAqC,MAAA,EAAE,aAAME,UAAN;AAAvC,MADJ,EAEI,oBAAC,gBAAD,EAAsBV,QAAQ,CAACkB,aAA/B,CAFJ;AALR,KAWI,oBAAC,uBAAD;AAAyB,IAAA,SAAS,EAAC,sBAAnC;AAA0D,IAAA,eAAe,EAAC,KAA1E;AAAgF,IAAA,SAAS,EAAET;AAA3F,KACKQ,SAAS,IACN,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAE,oBAAC,gBAAD,EAAsBjB,QAAQ,CAACmB,kBAA/B;AAApB,KACI,oBAAC,gBAAD,EAAsBX,KAAtB,CADJ,CAFR,EAOKQ,SAAS,IACN;AAAK,IAAA,SAAS,EAAC;AAAf,KACI,oBAAC,gBAAD,EAAsBhB,QAAQ,CAACoB,aAA/B,CADJ,CARR,EAaKL,YAAY,IACT;AAAK,IAAA,SAAS,EAAC;AAAf,KACI,oBAAC,YAAD;AAAc,IAAA,QAAQ,EAAEJ;AAAxB,KAAsCC,IAAtC,EADJ,CAdR,EAkBKC,SAAS,IACN;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAyC,mBAAY;AAArD,KACI,oBAAC,gBAAD,eACQb,QAAQ,CAACqB,iBADjB;AAEI,IAAA,MAAM,EAAE;AACJC,MAAAA,WAAW,EAAEhB;AADT;AAFZ,KADJ,CAnBR,CAXJ,CADJ;AA2CH,CAjDD;;AAmDA,eAAeC,eAAf","sourcesContent":["/**\n * @flow\n * @file Versions Sidebar component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport type { MessageDescriptor } from 'react-intl';\nimport InlineError from '../../../components/inline-error';\nimport messages from './messages';\nimport SidebarContent from '../SidebarContent';\nimport VersionsMenu from './VersionsMenu';\nimport { BackButton } from '../../common/nav-button';\nimport { DEFAULT_FETCH_END } from '../../../constants';\nimport { LoadingIndicatorWrapper } from '../../../components/loading-indicator';\nimport type { BoxItemVersion } from '../../../common/types/core';\nimport './VersionsSidebar.scss';\n\nconst MAX_VERSIONS = DEFAULT_FETCH_END;\n\ntype Props = {\n    error?: MessageDescriptor,\n    fileId: string,\n    isLoading: boolean,\n    parentName: string,\n    versionCount: number,\n    versionLimit: number,\n    versions: Array<BoxItemVersion>,\n};\n\nconst VersionsSidebar = ({ error, isLoading, parentName, versions, ...rest }: Props) => {\n    const showLimit = versions.length >= MAX_VERSIONS;\n    const showVersions = !!versions.length;\n    const showEmpty = !isLoading && !showVersions;\n    const showError = !!error;\n\n    return (\n        <SidebarContent\n            className=\"bcs-Versions\"\n            data-resin-component=\"preview\"\n            data-resin-feature=\"versions\"\n            title={\n                <>\n                    <BackButton data-resin-target=\"back\" to={`/${parentName}`} />\n                    <FormattedMessage {...messages.versionsTitle} />\n                </>\n            }\n        >\n            <LoadingIndicatorWrapper className=\"bcs-Versions-content\" crawlerPosition=\"top\" isLoading={isLoading}>\n                {showError && (\n                    <InlineError title={<FormattedMessage {...messages.versionServerError} />}>\n                        <FormattedMessage {...error} />\n                    </InlineError>\n                )}\n\n                {showEmpty && (\n                    <div className=\"bcs-Versions-empty\">\n                        <FormattedMessage {...messages.versionsEmpty} />\n                    </div>\n                )}\n\n                {showVersions && (\n                    <div className=\"bcs-Versions-menu\">\n                        <VersionsMenu versions={versions} {...rest} />\n                    </div>\n                )}\n                {showLimit && (\n                    <div className=\"bcs-Versions-maxEntries\" data-testid=\"max-versions\">\n                        <FormattedMessage\n                            {...messages.versionMaxEntries}\n                            values={{\n                                maxVersions: MAX_VERSIONS,\n                            }}\n                        />\n                    </div>\n                )}\n            </LoadingIndicatorWrapper>\n        </SidebarContent>\n    );\n};\n\nexport default VersionsSidebar;\n"],"file":"VersionsSidebar.js"}