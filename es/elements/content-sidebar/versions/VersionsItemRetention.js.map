{"version":3,"sources":["../../../../src/elements/content-sidebar/versions/VersionsItemRetention.js"],"names":["React","FormattedMessage","ReadableTime","VERSION_RETENTION_DELETE_ACTION","VERSION_RETENTION_REMOVE_ACTION","VERSION_RETENTION_INDEFINITE","messages","RETENTION_MAP","versionRetentionDelete","versionRetentionRemove","VersionsItemRetention","retention","dispositionAt","disposition_at","retentionPolicy","winning_retention_policy","dispositionAction","disposition_action","retentionLength","retention_length","dispositionAtTime","Date","getTime","versionRetentionIndefinite","time"],"mappings":";;;;;;AAAA;;;;;AAMA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,gBAAT,QAAiC,YAAjC;AACA,SAASC,YAAT,QAA6B,0BAA7B;AACA,SACIC,+BADJ,EAEIC,+BAFJ,EAGIC,4BAHJ,QAIO,oBAJP;AAKA,OAAOC,QAAP,MAAqB,YAArB;AAOA,IAAMC,aAAa,yDACdJ,+BADc,EACoBG,QAAQ,CAACE,sBAD7B,mCAEdJ,+BAFc,EAEoBE,QAAQ,CAACG,sBAF7B,kBAAnB;;AAKA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,OAA0B;AAAA,MAAvBC,SAAuB,QAAvBA,SAAuB;;AAAA,cACiCA,SAAS,IAAI,EAD9C;AAAA,MAC5BC,aAD4B,SAC5CC,cAD4C;AAAA,MACaC,eADb,SACbC,wBADa;;AAAA,cAEiCD,eAAe,IAAI,EAFpD;AAAA,MAExBE,iBAFwB,SAE5CC,kBAF4C;AAAA,MAEaC,eAFb,SAELC,gBAFK;;AAGpD,MAAMC,iBAAiB,GAAGR,aAAa,IAAI,IAAIS,IAAJ,CAAST,aAAT,EAAwBU,OAAxB,EAA3C;;AAEA,MAAI,CAACN,iBAAL,EAAwB;AACpB,WAAO,IAAP;AACH;;AAED,SAAOE,eAAe,KAAKb,4BAApB,IAAoD,CAACe,iBAArD,GACH,oBAAC,gBAAD,EAAsBd,QAAQ,CAACiB,0BAA/B,CADG,GAGH,oBAAC,gBAAD,eACQhB,aAAa,CAACS,iBAAD,CADrB;AAEI,IAAA,MAAM,EAAE;AACJQ,MAAAA,IAAI,EAAE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAEJ,iBAAzB;AAA4C,QAAA,WAAW;AAAvD;AADF;AAFZ,KAHJ;AAUH,CAnBD;;AAqBA,eAAeV,qBAAf","sourcesContent":["/**\n * @flow strict\n * @file Versions Item Retention component\n * @author Box\n */\n\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ReadableTime } from '../../../components/time';\nimport {\n    VERSION_RETENTION_DELETE_ACTION,\n    VERSION_RETENTION_REMOVE_ACTION,\n    VERSION_RETENTION_INDEFINITE,\n} from '../../../constants';\nimport messages from './messages';\nimport type { BoxItemVersionRetention } from '../../../common/types/core';\n\ntype Props = {\n    retention?: BoxItemVersionRetention,\n};\n\nconst RETENTION_MAP = {\n    [VERSION_RETENTION_DELETE_ACTION]: messages.versionRetentionDelete,\n    [VERSION_RETENTION_REMOVE_ACTION]: messages.versionRetentionRemove,\n};\n\nconst VersionsItemRetention = ({ retention }: Props) => {\n    const { disposition_at: dispositionAt, winning_retention_policy: retentionPolicy } = retention || {};\n    const { disposition_action: dispositionAction, retention_length: retentionLength } = retentionPolicy || {};\n    const dispositionAtTime = dispositionAt && new Date(dispositionAt).getTime();\n\n    if (!dispositionAction) {\n        return null;\n    }\n\n    return retentionLength === VERSION_RETENTION_INDEFINITE || !dispositionAtTime ? (\n        <FormattedMessage {...messages.versionRetentionIndefinite} />\n    ) : (\n        <FormattedMessage\n            {...RETENTION_MAP[dispositionAction]}\n            values={{\n                time: <ReadableTime timestamp={dispositionAtTime} showWeekday />,\n            }}\n        />\n    );\n};\n\nexport default VersionsItemRetention;\n"],"file":"VersionsItemRetention.js"}