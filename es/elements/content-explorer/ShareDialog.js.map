{"version":3,"sources":["../../../src/elements/content-explorer/ShareDialog.js"],"names":["React","Modal","noop","injectIntl","FormattedMessage","PrimaryButton","Button","messages","ShareAccessSelect","CLASS_MODAL_CONTENT","CLASS_MODAL_OVERLAY","CLASS_MODAL","ShareDialog","isOpen","canSetShareAccess","onShareAccessChange","onCancel","item","isLoading","parentElement","appElement","intl","textInput","copy","HTMLInputElement","select","document","execCommand","sharedLink","shared_link","url","formatMessage","shareDialogNone","shareDialogLabel","shareDialogText","input","close"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Content Explorer Delete Confirmation Dialog\n * @author Box\n */\n\nimport React from 'react';\nimport Modal from 'react-modal';\nimport noop from 'lodash/noop';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport type { InjectIntlProvidedProps } from 'react-intl';\nimport PrimaryButton from '../../components/primary-button/PrimaryButton';\nimport Button from '../../components/button/Button';\nimport messages from '../common/messages';\nimport ShareAccessSelect from '../common/share-access-select';\nimport { CLASS_MODAL_CONTENT, CLASS_MODAL_OVERLAY, CLASS_MODAL } from '../../constants';\nimport type { BoxItem } from '../../common/types/core';\n\nimport './ShareDialog.scss';\n\ntype Props = {\n    appElement: HTMLElement,\n    canSetShareAccess: boolean,\n    isLoading: boolean,\n    isOpen: boolean,\n    item: BoxItem,\n    onCancel: Function,\n    onShareAccessChange: Function,\n    parentElement: HTMLElement,\n} & InjectIntlProvidedProps;\n\nconst ShareDialog = ({\n    isOpen,\n    canSetShareAccess,\n    onShareAccessChange,\n    onCancel,\n    item,\n    isLoading,\n    parentElement,\n    appElement,\n    intl,\n}: Props) => {\n    let textInput = null;\n\n    const copy = () => {\n        if (textInput instanceof HTMLInputElement) {\n            textInput.select();\n            document.execCommand('copy');\n        }\n    };\n\n    const { shared_link: sharedLink }: BoxItem = item;\n    const { url } = sharedLink || {\n        url: intl.formatMessage(messages.shareDialogNone),\n    };\n\n    /* eslint-disable jsx-a11y/label-has-for */\n    return (\n        <Modal\n            appElement={appElement}\n            className={CLASS_MODAL_CONTENT}\n            contentLabel={intl.formatMessage(messages.shareDialogLabel)}\n            isOpen={isOpen}\n            onRequestClose={onCancel}\n            overlayClassName={CLASS_MODAL_OVERLAY}\n            parentSelector={() => parentElement}\n            portalClassName={`${CLASS_MODAL} be-modal-share`}\n        >\n            <div className=\"be-modal-content\">\n                <label>\n                    <FormattedMessage tagName=\"div\" {...messages.shareDialogText} />\n                </label>\n                <div className=\"be-modal-input-group\">\n                    <input\n                        ref={input => {\n                            textInput = input;\n                        }}\n                        onChange={noop}\n                        type=\"text\"\n                        value={url}\n                    />\n                    <PrimaryButton autoFocus className=\"be-modal-button-copy\" onClick={copy} type=\"button\">\n                        <FormattedMessage {...messages.copy} />\n                    </PrimaryButton>\n                </div>\n            </div>\n            <div className=\"be-modal-btns\">\n                <ShareAccessSelect\n                    canSetShareAccess={canSetShareAccess}\n                    className=\"bce-shared-access-select\"\n                    item={item}\n                    onChange={onShareAccessChange}\n                />\n                <Button isLoading={isLoading} onClick={onCancel} type=\"button\">\n                    <FormattedMessage {...messages.close} />\n                </Button>\n            </div>\n        </Modal>\n    );\n};\n\nexport default injectIntl(ShareDialog);\n"],"file":"ShareDialog.js"}