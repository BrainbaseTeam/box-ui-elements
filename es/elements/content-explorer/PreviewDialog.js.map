{"version":3,"sources":["../../../src/elements/content-explorer/PreviewDialog.js"],"names":["React","Modal","injectIntl","cloneDeep","messages","ContentPreview","TYPE_FILE","CLASS_MODAL_CONTENT_FULL_BLEED","CLASS_MODAL_OVERLAY","CLASS_MODAL","PreviewDialog","item","isOpen","parentElement","appElement","token","cache","currentCollection","canDownload","onCancel","onPreview","onDownload","apiHost","appHost","staticHost","staticPath","previewLibraryVersion","sharedLink","sharedLinkPassword","contentPreviewProps","requestInterceptor","responseInterceptor","intl","items","onLoad","data","files","filter","type","formatMessage","preview","id"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Content Explorer Preview dialog\n * @author Box\n */\n\nimport React from 'react';\nimport Modal from 'react-modal';\nimport { injectIntl } from 'react-intl';\nimport type { InjectIntlProvidedProps } from 'react-intl';\nimport cloneDeep from 'lodash/cloneDeep';\nimport messages from '../common/messages';\nimport ContentPreview from '../content-preview';\nimport { TYPE_FILE, CLASS_MODAL_CONTENT_FULL_BLEED, CLASS_MODAL_OVERLAY, CLASS_MODAL } from '../../constants';\nimport type { Token, BoxItem, Collection } from '../../common/types/core';\nimport type APICache from '../../utils/Cache';\n\ntype Props = {\n    apiHost: string,\n    appElement: HTMLElement,\n    appHost: string,\n    cache: APICache,\n    canDownload: boolean,\n    contentPreviewProps: ContentPreviewProps,\n    currentCollection: Collection,\n    isOpen: boolean,\n    isTouch: boolean,\n    item: BoxItem,\n    onCancel: Function,\n    onDownload: Function,\n    onPreview: Function,\n    parentElement: HTMLElement,\n    previewLibraryVersion: string,\n    requestInterceptor?: Function,\n    responseInterceptor?: Function,\n    sharedLink?: string,\n    sharedLinkPassword?: string,\n    staticHost: string,\n    staticPath: string,\n    token: Token,\n} & InjectIntlProvidedProps;\n\nconst PreviewDialog = ({\n    item,\n    isOpen,\n    parentElement,\n    appElement,\n    token,\n    cache,\n    currentCollection,\n    canDownload,\n    onCancel,\n    onPreview,\n    onDownload,\n    apiHost,\n    appHost,\n    staticHost,\n    staticPath,\n    previewLibraryVersion,\n    sharedLink,\n    sharedLinkPassword,\n    contentPreviewProps,\n    requestInterceptor,\n    responseInterceptor,\n    intl,\n}: Props) => {\n    const { items }: Collection = currentCollection;\n    const onLoad = (data: any): void => {\n        onPreview(cloneDeep(data));\n    };\n\n    if (!item || !items) {\n        return null;\n    }\n\n    const files: BoxItem[] = items.filter(({ type }) => type === TYPE_FILE);\n    return (\n        <Modal\n            isOpen={isOpen}\n            parentSelector={() => parentElement}\n            portalClassName={`${CLASS_MODAL} be-modal-preview`}\n            className={CLASS_MODAL_CONTENT_FULL_BLEED}\n            overlayClassName={CLASS_MODAL_OVERLAY}\n            contentLabel={intl.formatMessage(messages.preview)}\n            onRequestClose={onCancel}\n            appElement={appElement}\n        >\n            <ContentPreview\n                {...contentPreviewProps}\n                fileId={item.id}\n                apiHost={apiHost}\n                appHost={appHost}\n                staticHost={staticHost}\n                staticPath={staticPath}\n                previewLibraryVersion={previewLibraryVersion}\n                cache={cache}\n                token={token}\n                hasHeader\n                autoFocus\n                collection={files}\n                onLoad={onLoad}\n                onClose={onCancel}\n                onDownload={onDownload}\n                canDownload={canDownload}\n                sharedLink={sharedLink}\n                sharedLinkPassword={sharedLinkPassword}\n                contentPreviewProps={contentPreviewProps}\n                requestInterceptor={requestInterceptor}\n                responseInterceptor={responseInterceptor}\n            />\n        </Modal>\n    );\n};\n\nexport default injectIntl(PreviewDialog);\n"],"file":"PreviewDialog.js"}