{"version":3,"sources":["../../../src/elements/content-open-with/IntegrationPortal.js"],"names":["createPortal","copyStyles","documentElement","integrationWindow","Array","from","styleSheets","forEach","styleSheet","href","copiedStyleSheet","document","createElement","rel","head","appendChild","body","style","margin","padding","IntegrationPortal","children","containerElement"],"mappings":"AAAA;;;;;AAMA,SAASA,YAAT,QAA6B,WAA7B;;AAOA;;;;;;;;AAQA,OAAO,SAASC,UAAT,CAAoBC,eAApB,EAA+CC,iBAA/C,EAAuE;AAC1E;AACA;AACAC,EAAAA,KAAK,CAACC,IAAN,CAAWH,eAAe,CAACI,WAA3B,EAAwCC,OAAxC,CAAgD,UAAAC,UAAU,EAAI;AAC1D,QAAI,CAACA,UAAU,CAACC,IAAhB,EAAsB;AAClB;AACH;;AAED,QAAMC,gBAAgB,GAAGP,iBAAiB,CAACQ,QAAlB,CAA2BC,aAA3B,CAAyC,MAAzC,CAAzB;AACAF,IAAAA,gBAAgB,CAACG,GAAjB,GAAuB,YAAvB;AACAH,IAAAA,gBAAgB,CAACD,IAAjB,GAAwBD,UAAU,CAACC,IAAnC;AACAN,IAAAA,iBAAiB,CAACQ,QAAlB,CAA2BG,IAA3B,CAAgCC,WAAhC,CAA4CL,gBAA5C;AACH,GATD,EAH0E,CAc1E;;AACAP,EAAAA,iBAAiB,CAACQ,QAAlB,CAA2BK,IAA3B,CAAgCC,KAAhC,CAAsCC,MAAtC,GAA+C,CAA/C;AACAf,EAAAA,iBAAiB,CAACQ,QAAlB,CAA2BK,IAA3B,CAAgCC,KAAhC,CAAsCE,OAAtC,GAAgD,CAAhD;AACH;;AAED,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,OAA4C;AAAA,MAAzCjB,iBAAyC,QAAzCA,iBAAyC;AAAA,MAAtBkB,QAAsB,QAAtBA,QAAsB;AAClE,MAAMC,gBAAgB,GAAGnB,iBAAiB,CAACQ,QAAlB,CAA2BC,aAA3B,CAAyC,KAAzC,CAAzB;AACAX,EAAAA,UAAU,CAACU,QAAD,EAAWR,iBAAX,CAAV;AACAA,EAAAA,iBAAiB,CAACQ,QAAlB,CAA2BK,IAA3B,CAAgCD,WAAhC,CAA4CO,gBAA5C;AACA,SAAOtB,YAAY,CAACqB,QAAD,EAAWC,gBAAX,CAAnB;AACH,CALD;;AAOA,eAAeF,iBAAf","sourcesContent":["/**\n * @flow\n * @file Allows react to render a component in an arbitrary DOM node, in this case in a new window.\n * @author Box\n */\n\nimport { createPortal } from 'react-dom';\n\ntype Props = {\n    children: any,\n    integrationWindow: any,\n};\n\n/**\n * Copies stylesheets to the new window.\n *\n * @private\n * @param {HTMLDocument} documentElement - an HTML document\n * @param {Window} integrationWindow - a browser window\n * @return {void}\n */\nexport function copyStyles(documentElement: Document, integrationWindow: any) {\n    // The new window will have no CSS, so we copy all style sheets as a safe way\n    // of ensuring required styles are present\n    Array.from(documentElement.styleSheets).forEach(styleSheet => {\n        if (!styleSheet.href) {\n            return;\n        }\n\n        const copiedStyleSheet = integrationWindow.document.createElement('link');\n        copiedStyleSheet.rel = 'stylesheet';\n        copiedStyleSheet.href = styleSheet.href;\n        integrationWindow.document.head.appendChild(copiedStyleSheet);\n    });\n\n    // Reset margin and padding in our new window\n    integrationWindow.document.body.style.margin = 0;\n    integrationWindow.document.body.style.padding = 0;\n}\n\nconst IntegrationPortal = ({ integrationWindow, children }: Props) => {\n    const containerElement = integrationWindow.document.createElement('div');\n    copyStyles(document, integrationWindow);\n    integrationWindow.document.body.appendChild(containerElement);\n    return createPortal(children, containerElement);\n};\n\nexport default IntegrationPortal;\n"],"file":"IntegrationPortal.js"}