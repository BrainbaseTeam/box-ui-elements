{"version":3,"sources":["../../../../src/elements/common/create-folder-dialog/CreateFolderDialog.js"],"names":["React","Modal","injectIntl","FormattedMessage","PrimaryButton","Button","messages","CLASS_MODAL_CONTENT","CLASS_MODAL_OVERLAY","CLASS_MODAL","ERROR_CODE_ITEM_NAME_TOO_LONG","ERROR_CODE_ITEM_NAME_IN_USE","CreateFolderDialog","isOpen","onCreate","onCancel","isLoading","errorCode","parentElement","appElement","intl","textInput","error","create","value","ref","input","HTMLInputElement","focus","select","onKeyDown","key","createDialogErrorInUse","createDialogErrorTooLong","createDialogErrorInvalid","formatMessage","createDialogLabel","createDialogText","cancel"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Content Explorer Create Folder Dialog\n * @author Box\n */\n\nimport React from 'react';\nimport Modal from 'react-modal';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport type { InjectIntlProvidedProps } from 'react-intl';\nimport PrimaryButton from '../../../components/primary-button/PrimaryButton';\nimport Button from '../../../components/button/Button';\nimport messages from '../messages';\nimport {\n    CLASS_MODAL_CONTENT,\n    CLASS_MODAL_OVERLAY,\n    CLASS_MODAL,\n    ERROR_CODE_ITEM_NAME_TOO_LONG,\n    ERROR_CODE_ITEM_NAME_IN_USE,\n} from '../../../constants';\n\ntype Props = {\n    appElement: HTMLElement,\n    errorCode: string,\n    isLoading: boolean,\n    isOpen: boolean,\n    onCancel: Function,\n    onCreate: Function,\n    parentElement: HTMLElement,\n} & InjectIntlProvidedProps;\n\n/* eslint-disable jsx-a11y/label-has-for */\nconst CreateFolderDialog = ({\n    isOpen,\n    onCreate,\n    onCancel,\n    isLoading,\n    errorCode,\n    parentElement,\n    appElement,\n    intl,\n}: Props) => {\n    let textInput = null;\n    let error;\n\n    /**\n     * Appends the extension and calls rename function\n     */\n    const create = () => {\n        if (textInput && textInput.value) {\n            onCreate(textInput.value);\n        }\n    };\n\n    /**\n     * Grabs reference to the input element\n     */\n    const ref = input => {\n        textInput = input;\n        if (textInput instanceof HTMLInputElement) {\n            textInput.focus();\n            textInput.select();\n        }\n    };\n\n    /**\n     * Handles enter key down\n     */\n    const onKeyDown = ({ key }) => {\n        switch (key) {\n            case 'Enter':\n                create();\n                break;\n            default:\n                break;\n        }\n    };\n\n    switch (errorCode) {\n        case ERROR_CODE_ITEM_NAME_IN_USE:\n            error = messages.createDialogErrorInUse;\n            break;\n        case ERROR_CODE_ITEM_NAME_TOO_LONG:\n            error = messages.createDialogErrorTooLong;\n            break;\n        default:\n            error = errorCode ? messages.createDialogErrorInvalid : null;\n            break;\n    }\n\n    return (\n        <Modal\n            appElement={appElement}\n            className={CLASS_MODAL_CONTENT}\n            contentLabel={intl.formatMessage(messages.createDialogLabel)}\n            isOpen={isOpen}\n            onRequestClose={onCancel}\n            overlayClassName={CLASS_MODAL_OVERLAY}\n            parentSelector={() => parentElement}\n            portalClassName={CLASS_MODAL}\n        >\n            <label>\n                {error ? (\n                    <div className=\"be-modal-error\">\n                        <FormattedMessage {...error} />\n                    </div>\n                ) : null}\n                <FormattedMessage tagName=\"div\" {...messages.createDialogText} />\n                <input ref={ref} onKeyDown={onKeyDown} required type=\"text\" />\n            </label>\n            <div className=\"be-modal-btns\">\n                <PrimaryButton data-testid=\"be-btn-create-folder\" isLoading={isLoading} onClick={create} type=\"button\">\n                    <FormattedMessage {...messages.create} />\n                </PrimaryButton>\n                <Button\n                    data-testid=\"be-btn-create-folder-cancel\"\n                    isDisabled={isLoading}\n                    onClick={onCancel}\n                    type=\"button\"\n                >\n                    <FormattedMessage {...messages.cancel} />\n                </Button>\n            </div>\n        </Modal>\n    );\n};\n\nexport default injectIntl(CreateFolderDialog);\n"],"file":"CreateFolderDialog.js"}