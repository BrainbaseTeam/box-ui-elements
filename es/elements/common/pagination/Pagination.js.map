{"version":3,"sources":["../../../../src/elements/common/pagination/Pagination.js"],"names":["React","FormattedMessage","noop","Button","ButtonGroup","IconPageBack","IconPageForward","PaginationMenu","Tooltip","messages","DEFAULT_PAGE_SIZE","PAGE_ICON_STYLE","height","width","Pagination","offset","onChange","pageSize","totalCount","pageCount","Math","ceil","pageByOffset","floor","pageNumber","min","hasNextPage","hasPreviousPage","updateOffset","newPageNumber","newOffset","handleNextClick","handlePreviousClick","previousPage","nextPage"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Pagination component\n * @author Box\n */\n\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport noop from 'lodash/noop';\nimport Button from '../../../components/button';\nimport ButtonGroup from '../../../components/button-group';\nimport IconPageBack from '../../../icons/general/IconPageBack';\nimport IconPageForward from '../../../icons/general/IconPageForward';\nimport PaginationMenu from './PaginationMenu';\nimport Tooltip from '../Tooltip';\nimport messages from '../messages';\nimport { DEFAULT_PAGE_SIZE } from '../../../constants';\nimport './Pagination.scss';\n\ntype Props = {\n    offset?: number,\n    onChange?: Function,\n    pageSize?: number,\n    totalCount?: number,\n};\n\nconst PAGE_ICON_STYLE = {\n    height: 9,\n    width: 6,\n};\n\nconst Pagination = ({ offset = 0, onChange = noop, pageSize = DEFAULT_PAGE_SIZE, totalCount = 0 }: Props) => {\n    const pageCount = Math.ceil(totalCount / pageSize);\n    if (pageCount <= 1) return null;\n\n    const pageByOffset = Math.floor(offset / pageSize) + 1;\n    const pageNumber = pageByOffset > 0 ? Math.min(pageCount, pageByOffset) : 1;\n    const hasNextPage = pageNumber < pageCount;\n    const hasPreviousPage = pageNumber > 1;\n\n    const updateOffset = (newPageNumber: number) => {\n        let newOffset = (newPageNumber - 1) * pageSize;\n\n        if (newOffset <= 0) {\n            newOffset = 0;\n        }\n\n        if (newOffset >= totalCount) {\n            newOffset = totalCount - pageSize;\n        }\n\n        onChange(newOffset);\n    };\n\n    const handleNextClick = () => {\n        updateOffset(pageNumber + 1);\n    };\n\n    const handlePreviousClick = () => {\n        updateOffset(pageNumber - 1);\n    };\n\n    return (\n        <div className=\"be-pagination\">\n            <div className=\"be-pagination-count\">\n                <PaginationMenu onPageClick={updateOffset} pageCount={pageCount} pageNumber={pageNumber} />\n            </div>\n\n            <ButtonGroup className=\"be-pagination-nav\">\n                <Tooltip isDisabled={!hasPreviousPage} text={<FormattedMessage {...messages.previousPage} />}>\n                    <Button isDisabled={!hasPreviousPage} onClick={handlePreviousClick}>\n                        <IconPageBack {...PAGE_ICON_STYLE} />\n                    </Button>\n                </Tooltip>\n                <Tooltip isDisabled={!hasNextPage} text={<FormattedMessage {...messages.nextPage} />}>\n                    <Button isDisabled={!hasNextPage} onClick={handleNextClick}>\n                        <IconPageForward {...PAGE_ICON_STYLE} />\n                    </Button>\n                </Tooltip>\n            </ButtonGroup>\n        </div>\n    );\n};\n\nexport default Pagination;\n"],"file":"Pagination.js"}