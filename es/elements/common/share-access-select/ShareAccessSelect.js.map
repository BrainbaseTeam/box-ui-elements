{"version":3,"sources":["../../../../src/elements/common/share-access-select/ShareAccessSelect.js"],"names":["React","injectIntl","messages","ACCESS_NONE","ACCESS_OPEN","ACCESS_COLLAB","ACCESS_COMPANY","ShareAccessSelect","className","canSetShareAccess","onChange","item","intl","allowedSharedAccessLevels","allowed_shared_link_access_levels","permissions","sharedLink","shared_link","access","allowShareAccessChange","can_set_share_access","changeHandler","target","value","allowOpen","indexOf","allowCollab","allowCompany","allowed","formatMessage","shareAccessOpen","shareAccessCollab","shareAccessCompany","shareAccessNone","shareAccessRemove"],"mappings":"AAAA;;;;;AAMA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,YAA3B;AAEA,OAAOC,QAAP,MAAqB,aAArB;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,aAAnC,EAAkDC,cAAlD,QAAwE,oBAAxE;AAEA,OAAO,0BAAP;;AASA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,OAAmE;AAAA,MAAhEC,SAAgE,QAAhEA,SAAgE;AAAA,MAArDC,iBAAqD,QAArDA,iBAAqD;AAAA,MAAlCC,QAAkC,QAAlCA,QAAkC;AAAA,MAAxBC,IAAwB,QAAxBA,IAAwB;AAAA,MAAlBC,IAAkB,QAAlBA,IAAkB;AAAA,MAC9CC,yBAD8C,GACsBF,IADtB,CACjFG,iCADiF;AAAA,MACnBC,WADmB,GACsBJ,IADtB,CACnBI,WADmB;AAAA,MACOC,UADP,GACsBL,IADtB,CACNM,WADM;;AAGzF,MAAI,CAACJ,yBAAL,EAAgC;AAC5B,WAAO,iCAAP;AACH;;AALwF,cAOxDG,UAAU,IAAI,EAP0C;AAAA,2BAOjFE,MAPiF;AAAA,MAOjFA,MAPiF,6BAOxEf,WAPwE;;AAAA,cAQhCY,WAAW,IAAI,EARiB;AAAA,MAQ3DI,sBAR2D,SAQjFC,oBARiF;;AAUzF,MAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA,QAAGC,MAAH,SAAGA,MAAH;AAAA,WAAgBZ,QAAQ,CAACY,MAAM,CAACC,KAAR,EAAeZ,IAAf,CAAxB;AAAA,GAAtB;;AACA,MAAMa,SAAS,GAAGX,yBAAyB,CAACY,OAA1B,CAAkCrB,WAAlC,IAAiD,CAAC,CAApE;AACA,MAAMsB,WAAW,GAAGb,yBAAyB,CAACY,OAA1B,CAAkCpB,aAAlC,IAAmD,CAAC,CAAxE;AACA,MAAMsB,YAAY,GAAGd,yBAAyB,CAACY,OAA1B,CAAkCnB,cAAlC,IAAoD,CAAC,CAA1E;AACA,MAAMsB,OAAO,GAAGnB,iBAAiB,IAAIU,sBAArB,KAAgDK,SAAS,IAAIG,YAAb,IAA6BD,WAA7E,CAAhB;;AAEA,MAAI,CAACE,OAAL,EAAc;AACV,WAAO,iCAAP;AACH;AAED;;;AACA,SACI;AAAQ,IAAA,SAAS,mCAA4BpB,SAA5B,CAAjB;AAA0D,IAAA,QAAQ,EAAEa,aAApE;AAAmF,IAAA,KAAK,EAAEH;AAA1F,KACKM,SAAS,GAAG;AAAQ,IAAA,KAAK,EAAEpB;AAAf,KAA6BQ,IAAI,CAACiB,aAAL,CAAmB3B,QAAQ,CAAC4B,eAA5B,CAA7B,CAAH,GAAyF,IADvG,EAEKJ,WAAW,GACR;AAAQ,IAAA,KAAK,EAAErB;AAAf,KAA+BO,IAAI,CAACiB,aAAL,CAAmB3B,QAAQ,CAAC6B,iBAA5B,CAA/B,CADQ,GAER,IAJR,EAKKJ,YAAY,GACT;AAAQ,IAAA,KAAK,EAAErB;AAAf,KAAgCM,IAAI,CAACiB,aAAL,CAAmB3B,QAAQ,CAAC8B,kBAA5B,CAAhC,CADS,GAET,IAPR,EAQI;AAAQ,IAAA,KAAK,EAAE7B;AAAf,KACKe,MAAM,KAAKf,WAAX,GACKS,IAAI,CAACiB,aAAL,CAAmB3B,QAAQ,CAAC+B,eAA5B,CADL,GAEKrB,IAAI,CAACiB,aAAL,CAAmB3B,QAAQ,CAACgC,iBAA5B,CAHV,CARJ,CADJ;AAgBH,CArCD;;AAuCA,eAAejC,UAAU,CAACM,iBAAD,CAAzB","sourcesContent":["/**\n * @flow\n * @file Content Explorer Delete Confirmation Dialog\n * @author Box\n */\n\nimport React from 'react';\nimport { injectIntl } from 'react-intl';\nimport type { InjectIntlProvidedProps } from 'react-intl';\nimport messages from '../messages';\nimport { ACCESS_NONE, ACCESS_OPEN, ACCESS_COLLAB, ACCESS_COMPANY } from '../../../constants';\nimport type { BoxItem } from '../../../common/types/core';\nimport './ShareAccessSelect.scss';\n\ntype Props = {\n    canSetShareAccess: boolean,\n    className: string,\n    item: BoxItem,\n    onChange: Function,\n} & InjectIntlProvidedProps;\n\nconst ShareAccessSelect = ({ className, canSetShareAccess, onChange, item, intl }: Props) => {\n    const { allowed_shared_link_access_levels: allowedSharedAccessLevels, permissions, shared_link: sharedLink } = item;\n\n    if (!allowedSharedAccessLevels) {\n        return <span />;\n    }\n\n    const { access = ACCESS_NONE } = sharedLink || {};\n    const { can_set_share_access: allowShareAccessChange } = permissions || {};\n\n    const changeHandler = ({ target }) => onChange(target.value, item);\n    const allowOpen = allowedSharedAccessLevels.indexOf(ACCESS_OPEN) > -1;\n    const allowCollab = allowedSharedAccessLevels.indexOf(ACCESS_COLLAB) > -1;\n    const allowCompany = allowedSharedAccessLevels.indexOf(ACCESS_COMPANY) > -1;\n    const allowed = canSetShareAccess && allowShareAccessChange && (allowOpen || allowCompany || allowCollab);\n\n    if (!allowed) {\n        return <span />;\n    }\n\n    /* eslint-disable jsx-a11y/no-onchange */\n    return (\n        <select className={`be-share-access-select ${className}`} onChange={changeHandler} value={access}>\n            {allowOpen ? <option value={ACCESS_OPEN}>{intl.formatMessage(messages.shareAccessOpen)}</option> : null}\n            {allowCollab ? (\n                <option value={ACCESS_COLLAB}>{intl.formatMessage(messages.shareAccessCollab)}</option>\n            ) : null}\n            {allowCompany ? (\n                <option value={ACCESS_COMPANY}>{intl.formatMessage(messages.shareAccessCompany)}</option>\n            ) : null}\n            <option value={ACCESS_NONE}>\n                {access === ACCESS_NONE\n                    ? intl.formatMessage(messages.shareAccessNone)\n                    : intl.formatMessage(messages.shareAccessRemove)}\n            </option>\n        </select>\n    );\n};\n\nexport default injectIntl(ShareAccessSelect);\n"],"file":"ShareAccessSelect.js"}